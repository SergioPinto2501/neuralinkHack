import{r as p}from"./chunk-ef86a6e3.js";import{R as a}from"./chunk-915dd350.js";import{j as r}from"./chunk-d0300abc.js";import{c as V,n as P}from"./chunk-f3b9c0aa.js";import{S as F}from"./chunk-b86542f8.js";import{t as g}from"./chunk-695a66c4.js";import{w as E,L as $}from"./chunk-e948ec12.js";const ne=e=>p.createElement("svg",{width:26,height:17,viewBox:"0 0 26 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M1.20707 7.41221L9.96376 16.1688L25.0896 1.04297",stroke:"black"})),k=["AK","AL","AR","AZ","CA","CO","CT","DC","DE","FL","GA","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VA","VT","WA","WI","WV","WY"],O=["AB","BC","MB","NB","NL","NS","NT","NU","ON","PE","QC","SK","YT"],U=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Y=/[\S]+ [\S]+/,z=/^[2-9]\d{9}$/,_=/^\d{5}(?:[-\s]\d{4})?$/,B=/^[A-Za-z]\d[A-Za-z] ?\d[A-Za-z]\d$/,re=e=>U.test(e)?a.valid():a.invalid("Please provide a valid email address"),se=e=>Y.test(e)?a.valid():a.invalid("Please provide a name that consists of at least a first and last name"),le=e=>z.test(e)?a.valid():e.startsWith("1")?a.invalid("Please provide a valid US phone number without a country code"):a.invalid("Please provide a valid US phone number"),oe=e=>k.includes(e)?a.valid():a.invalid("Please provide a valid 2-letter US state abbreviation"),de=e=>O.includes(e)?a.valid():a.invalid("Please provide a valid 2-letter Canadian province abbreviation"),ce=e=>_.test(e)?a.valid():a.invalid("Please provide a valid ZIP code in either 5 or 9 digit format"),ue=e=>B.test(e)?a.valid():a.invalid("Please provide a valid Canadian postal code"),ve=(e,t,n)=>i=>{const s=Number(i);return s>=e&&s<=t?a.valid():a.invalid(n)},fe=(e,t,n)=>i=>{const s=Number(i);return!i.includes(".")&&s>=e&&s<=t?a.valid():a.invalid(n)};function w(e){return`${e.getUTCFullYear()}-${("0"+(e.getUTCMonth()+1)).slice(-2)}-${("0"+e.getUTCDate()).slice(-2)}`}const me=({minDate:e=new Date("1900-01-01"),maxDate:t}={})=>n=>{const i=n.split("-");if(i.length!==3)return a.invalid("Invalid date format. Date must be in the format YYYY-MM-DD");const s=parseInt(i[0],10),o=parseInt(i[1],10)-1,v=parseInt(i[2],10),l=new Date(s,o,v);return l.getFullYear()!==s||l.getMonth()!==o||l.getDate()!==v?a.invalid("Invalid date value."):l<e?a.invalid(`Invalid date value. Date must occur after ${w(e)}`):(t=t??new Date,l>t?a.invalid(`Invalid date value. Date must occur on or before ${w(t)}`):a.valid())};function Z({formKey:e,label:t,containerClassName:n,type:i="text",useTextArea:s=!1,list:o,placeholder:v="",min:l,max:x,onKeyDown:S,onFocus:d,onBlur:f,value:c="",setValue:N,onClear:b=P,isValid:A=!1,isInvalid:m=!1,invalidMessage:h}){return r.jsxs("div",{className:V(n,g.textInput,{[g.isValid]:A,[g.isInvalid]:m}),children:[t&&r.jsx("label",{htmlFor:e,children:t}),r.jsx("div",{className:g.container,children:s?r.jsx("textarea",{id:e,name:e,autoComplete:"off","aria-invalid":m,"aria-multiline":!1,value:c,onFocus:d,onBlur:f,onKeyDown:S,placeholder:v,onChange:I=>N(I.target.value)}):r.jsxs(r.Fragment,{children:[r.jsx("input",{id:e,name:e,autoComplete:"off","aria-invalid":m,"aria-multiline":!1,type:i,list:o,value:c,onFocus:d,onBlur:f,onKeyDown:S,placeholder:v,onChange:I=>N(I.target.value),min:l,max:x}),(c||m)&&r.jsx("div",{"aria-label":"Clear Input",role:"button",className:V(g.icon,g.clickable),title:"Clear",onClick:b,children:r.jsx(F,{})})]})}),r.jsx("div",{className:V(g.errorUnder,"error-dialog"),children:m&&h?r.jsxs(r.Fragment,{children:["* ",h]}):r.jsx(r.Fragment,{children:"Â "})})]})}const W="_container_1iqq6_1",q={container:W};function ge({formKey:e,label:t,containerClassName:n,type:i,useTextArea:s,list:o,placeholder:v,min:l,max:x,onBlur:S=P,value:d,setValue:f,required:c=!1,validator:N=()=>a.valid()}){const[b,A]=p.useState(!1),[m,h]=p.useState(!1),[I,T]=p.useState(""),C=p.useRef(null);function M(){A(!1),h(!1),T("")}function D(){A(!0),h(!1),T("")}function L(u){A(!1),h(!0),T(u)}return p.useEffect(()=>{C.current&&(C.current.validate=u=>{if(u.includes(e))return L("Invalid value"),f(""),!1;if(d===void 0||d==="")return c?(L("This is a required field"),!1):(M(),!0);const j=N(d??"");return j.ok?(D(),!0):(L(j.error.toString()),!1)})},[e,C,d,c,N,f]),r.jsx("div",{className:V(q.container,n),"aria-required":c,"data-formkey":e,ref:C,children:r.jsx(Z,{formKey:e,label:t?`${t}${c?" *":""}`:void 0,type:i,useTextArea:s,list:o,placeholder:v,min:l,max:x,onBlur:()=>{var u;S(),(u=C.current)==null||u.validate([])},value:d??"",setValue:u=>f(u),isValid:b,isInvalid:m,invalidMessage:I,onClear:()=>{f(""),M()}})})}const y="validation-block",H="validation-scroll-target";function G(){return Array.from(document.querySelectorAll("[data-formkey]"))}function R(){return Array.from(document.querySelectorAll("[aria-invalid=true]"))}function J(e){var n;const t=(n=e.closest(`.${y}`))==null?void 0:n.querySelector(`.${H}`);if(!t)throw new Error("Unable to find nearest validation block");t.scrollIntoView({behavior:"smooth"})}function pe(){const e=R(),t=[];for(let n=0;n<e.length;n++){const i=e[n].id;i&&t.push(i)}return t}async function he(e=[]){const t=G();for(let i=0;i<t.length;i++)t[i].validate(e);await E();const n=R();if(n.length===0)return!0;try{J(n[0])}catch(i){$.asSingleton().error(i)}return!1}export{ge as I,ne as S,y as V,H as a,le as b,O as c,me as d,re as e,ue as f,pe as g,se as h,fe as i,de as p,ve as r,oe as s,k as u,he as v,ce as z};
