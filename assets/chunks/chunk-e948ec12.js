var vi=Object.defineProperty;var gi=(n,e,t)=>e in n?vi(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var In=(n,e,t)=>(gi(n,typeof e!="symbol"?e+"":e,t),t),Pn=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var Ne=(n,e,t)=>(Pn(n,e,"read from private field"),t?t.call(n):e.get(n)),Bn=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},Dn=(n,e,t,r)=>(Pn(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t);import{n as mi}from"./chunk-f3b9c0aa.js";import{c as yi,g as bi,a as rn}from"./chunk-ef86a6e3.js";function wi(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(n,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}function br(){return typeof window>"u"}async function Tc(n=mi){await new Promise(e=>{setTimeout(async()=>{await n(),e()})})}function Sc(n){try{return JSON.parse(n||"[]")}catch(e){return dt.asSingleton().error("Error parsing multi select value!"),dt.asSingleton().error(e),[]}}function Cc(){const n=new Date;return n.setUTCFullYear(n.getUTCFullYear()-18),n.setUTCDate(n.getUTCDate()-1),n}const Ac="https://boards.greenhouse.io/embed/job_board/js?for=neuralink",Oc="c356a2533us";var Rn;(function(n){n.HEADER="header",n.QUERY="query"})(Rn||(Rn={}));var Ln;(function(n){n.HTTP="http",n.HTTPS="https"})(Ln||(Ln={}));var kn;(function(n){n[n.HEADER=0]="HEADER",n[n.TRAILER=1]="TRAILER"})(kn||(kn={}));var Fn;(function(n){n.HTTP_0_9="http/0.9",n.HTTP_1_0="http/1.0",n.TDS_8_0="tds/8.0"})(Fn||(Fn={}));class re{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&typeof t.query=="object"&&typeof t.headers=="object"}clone(){const e=new re({...this,headers:{...this.headers}});return e.query&&(e.query=_i(e.query)),e}}function _i(n){return Object.keys(n).reduce((e,t)=>{const r=n[t];return{...e,[t]:Array.isArray(r)?[...r]:r}},{})}class xe{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}}var wr=globalThis&&globalThis.__awaiter||function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function c(f){try{s(r.next(f))}catch(v){a(v)}}function u(f){try{s(r.throw(f))}catch(v){a(v)}}function s(f){f.done?i(f.value):o(f.value).then(c,u)}s((r=r.apply(n,e||[])).next())})},_r=globalThis&&globalThis.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(f){return u([s,f])}}function u(s){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,o=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){t.label=s[1];break}if(s[0]===6&&t.label<i[1]){t.label=i[1],i=s;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(s);break}i[2]&&t.ops.pop(),t.trys.pop();continue}s=e.call(n,t)}catch(f){s=[6,f],o=0}finally{r=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},Ot=function(n){return wr(void 0,void 0,void 0,function(){var e;return _r(this,function(t){switch(t.label){case 0:return[4,n.body.getReader().read()];case 1:return e=t.sent().value,[2,JSON.parse(String.fromCharCode.apply(null,e))]}})})},Ei=function(n){return wr(void 0,void 0,void 0,function(){var e;return _r(this,function(t){switch(t.label){case 0:return[4,n.body.getReader().read()];case 1:return e=t.sent().value,[2,String.fromCharCode.apply(null,e)]}})})},It=globalThis&&globalThis.__awaiter||function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function c(f){try{s(r.next(f))}catch(v){a(v)}}function u(f){try{s(r.throw(f))}catch(v){a(v)}}function s(f){f.done?i(f.value):o(f.value).then(c,u)}s((r=r.apply(n,e||[])).next())})},Pt=globalThis&&globalThis.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(f){return u([s,f])}}function u(s){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,o=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){t.label=s[1];break}if(s[0]===6&&t.label<i[1]){t.label=i[1],i=s;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(s);break}i[2]&&t.ops.pop(),t.trys.pop();continue}s=e.call(n,t)}catch(f){s=[6,f],o=0}finally{r=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},xi="POST",Ti="application/x-amz-json-1.1",Si="https:",Ci="AWSCognitoIdentityService.GetId",Ai="AWSCognitoIdentityService.GetOpenIdToken",Oi="AWSCognitoIdentityService.GetCredentialsForIdentity",Ii=function(n){return function(){return n.client.getCredentialsForIdentity(n.identityPoolId)}},Er=function(){function n(e){var t=this;this.getId=function(r){return It(t,void 0,void 0,function(){var o,i,a,c;return Pt(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),o=JSON.stringify(r),i=this.getHttpRequest(Ci,o),[4,this.fetchRequestHandler.handle(i)];case 1:return a=u.sent().response,[4,Ot(a)];case 2:return[2,u.sent()];case 3:throw c=u.sent(),new Error("CWR: Failed to retrieve Cognito identity: ".concat(c));case 4:return[2]}})})},this.getOpenIdToken=function(r){return It(t,void 0,void 0,function(){var o,i,a,c;return Pt(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),o=JSON.stringify(r),i=this.getHttpRequest(Ai,o),[4,this.fetchRequestHandler.handle(i)];case 1:return a=u.sent().response,[4,Ot(a)];case 2:return[2,u.sent()];case 3:throw c=u.sent(),new Error("CWR: Failed to retrieve Cognito OpenId token: ".concat(c));case 4:return[2]}})})},this.getCredentialsForIdentity=function(r){return It(t,void 0,void 0,function(){var o,i,a,c,u,s,f,v,l;return Pt(this,function(p){switch(p.label){case 0:return p.trys.push([0,3,,4]),o=JSON.stringify({IdentityId:r}),i=this.getHttpRequest(Oi,o),[4,this.fetchRequestHandler.handle(i)];case 1:return a=p.sent().response,[4,Ot(a)];case 2:return c=p.sent().Credentials,u=c.AccessKeyId,s=c.Expiration,f=c.SecretAccessKey,v=c.SessionToken,[2,{accessKeyId:u,secretAccessKey:f,sessionToken:v,expiration:new Date(s*1e3)}];case 3:throw l=p.sent(),new Error("CWR: Failed to retrieve credentials for Cognito identity: ".concat(l));case 4:return[2]}})})},this.getHttpRequest=function(r,o){return new re({method:xi,headers:{"content-type":Ti,"x-amz-target":r},protocol:Si,hostname:t.hostname,body:o})},this.hostname="cognito-identity.".concat(e.region,".amazonaws.com"),this.fetchRequestHandler=e.fetchRequestHandler}return n}();const G=n=>encodeURIComponent(n).replace(/[!'()*]/g,Pi),Pi=n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`;function on(n){const e=[];for(let t of Object.keys(n).sort()){const r=n[t];if(t=G(t),Array.isArray(r))for(let o=0,i=r.length;o<i;o++)e.push(`${t}=${G(r[o])}`);else{let o=t;(r||typeof r=="string")&&(o+=`=${G(r)}`),e.push(o)}}return e.join("&")}function Bi(n=0){return new Promise((e,t)=>{n&&setTimeout(()=>{const r=new Error(`Request did not complete within ${n} ms`);r.name="TimeoutError",t(r)},n)})}let qt=class{constructor(e){typeof e=="function"?this.configProvider=e().then(t=>t||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(e,{abortSignal:t}={}){this.config||(this.config=await this.configProvider);const r=this.config.requestTimeout;if(t!=null&&t.aborted){const d=new Error("Request aborted");return d.name="AbortError",Promise.reject(d)}let o=e.path;const i=on(e.query||{});i&&(o+=`?${i}`),e.fragment&&(o+=`#${e.fragment}`);let a="";if(e.username!=null||e.password!=null){const d=e.username??"",h=e.password??"";a=`${d}:${h}@`}const{port:c,method:u}=e,s=`${e.protocol}//${a}${e.hostname}${c?`:${c}`:""}${o}`,v={body:u==="GET"||u==="HEAD"?void 0:e.body,headers:new Headers(e.headers),method:u};typeof AbortController<"u"&&(v.signal=t);const l=new Request(s,v),p=[fetch(l).then(d=>{const h=d.headers,g={};for(const S of h.entries())g[S[0]]=S[1];return d.body!=null?{response:new xe({headers:g,reason:d.statusText,statusCode:d.status,body:d.body})}:d.blob().then(S=>({response:new xe({headers:g,reason:d.statusText,statusCode:d.status,body:S})}))}),Bi(r)];return t&&p.push(new Promise((d,h)=>{t.onabort=()=>{const g=new Error("Request aborted");g.name="AbortError",h(g)}})),Promise.race(p)}};const ie={},Ce=new Array(64);for(let n=0,e="A".charCodeAt(0),t="Z".charCodeAt(0);n+e<=t;n++){const r=String.fromCharCode(n+e);ie[r]=n,Ce[n]=r}for(let n=0,e="a".charCodeAt(0),t="z".charCodeAt(0);n+e<=t;n++){const r=String.fromCharCode(n+e),o=n+26;ie[r]=o,Ce[o]=r}for(let n=0;n<10;n++){ie[n.toString(10)]=n+52;const e=n.toString(10),t=n+52;ie[e]=t,Ce[t]=e}ie["+"]=62;Ce[62]="+";ie["/"]=63;Ce[63]="/";var Ze=globalThis&&globalThis.__assign||function(){return Ze=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Ze.apply(this,arguments)},Di=globalThis&&globalThis.__awaiter||function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function c(f){try{s(r.next(f))}catch(v){a(v)}}function u(f){try{s(r.throw(f))}catch(v){a(v)}}function s(f){f.done?i(f.value):o(f.value).then(c,u)}s((r=r.apply(n,e||[])).next())})},Ri=globalThis&&globalThis.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(f){return u([s,f])}}function u(s){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,o=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){t.label=s[1];break}if(s[0]===6&&t.label<i[1]){t.label=i[1],i=s;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(s);break}i[2]&&t.ops.pop(),t.trys.pop();continue}s=e.call(n,t)}catch(f){s=[6,f],o=0}finally{r=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},Li="POST",ki="application/x-www-form-urlencoded",Fi="https:",Ni="AssumeRoleWithWebIdentity",Ui="2011-06-15",Mi=function(){function n(e){var t=this;this.assumeRoleWithWebIdentity=function(r){return Di(t,void 0,void 0,function(){var o,i,a,c,u,s;return Ri(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),o=Ze(Ze({},r),{Action:Ni,Version:Ui}),i=new URLSearchParams(Object.entries(o)).toString(),a=new re({method:Li,headers:{"content-type":ki,host:this.hostname},protocol:Fi,hostname:this.hostname,body:i}),[4,this.fetchRequestHandler.handle(a)];case 1:return c=f.sent().response,[4,Ei(c)];case 2:return u=f.sent(),[2,{accessKeyId:u.split("<AccessKeyId>")[1].split("</AccessKeyId>")[0],secretAccessKey:u.split("<SecretAccessKey>")[1].split("</SecretAccessKey>")[0],sessionToken:u.split("<SessionToken>")[1].split("</SessionToken>")[0],expiration:new Date(u.split("<Expiration>")[1].split("</Expiration>")[0])}];case 3:throw s=f.sent(),new Error("CWR: Failed to retrieve credentials from STS: ".concat(s));case 4:return[2]}})})},this.hostname="sts.".concat(e.region,".amazonaws.com"),this.fetchRequestHandler=e.fetchRequestHandler}return n}(),Qe="cwr_c",Nn="cwr_s",Un="cwr_u",xr=3e4,ji="arw-module",et=globalThis&&globalThis.__assign||function(){return et=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},et.apply(this,arguments)},Ue=globalThis&&globalThis.__awaiter||function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function c(f){try{s(r.next(f))}catch(v){a(v)}}function u(f){try{s(r.throw(f))}catch(v){a(v)}}function s(f){f.done?i(f.value):o(f.value).then(c,u)}s((r=r.apply(n,e||[])).next())})},Me=globalThis&&globalThis.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(f){return u([s,f])}}function u(s){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,o=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){t.label=s[1];break}if(s[0]===6&&t.label<i[1]){t.label=i[1],i=s;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(s);break}i[2]&&t.ops.pop(),t.trys.pop();continue}s=e.call(n,t)}catch(f){s=[6,f],o=0}finally{r=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},Hi=function(){function n(e){var t=this;this.ChainAnonymousCredentialsProvider=function(){return Ue(t,void 0,void 0,function(){return Me(this,function(o){return[2,this.AnonymousCredentialsProvider().catch(this.AnonymousStorageCredentialsProvider).catch(this.AnonymousCognitoCredentialsProvider)]})})},this.AnonymousCredentialsProvider=function(){return Ue(t,void 0,void 0,function(){var o=this;return Me(this,function(i){return[2,new Promise(function(a,c){if(o.renewCredentials())return c();a(o.credentials)})]})})},this.AnonymousStorageCredentialsProvider=function(){return Ue(t,void 0,void 0,function(){var o=this;return Me(this,function(i){return[2,new Promise(function(a,c){var u;try{u=JSON.parse(localStorage.getItem(Qe))}catch{return c()}if(o.credentials=et(et({},u),{expiration:new Date(u.expiration)}),o.renewCredentials())return c();o.credentials=u,a(u)})]})})},this.AnonymousCognitoCredentialsProvider=function(){return Ue(t,void 0,void 0,function(){var o=this;return Me(this,function(i){return[2,this.cognitoIdentityClient.getId({IdentityPoolId:this.config.identityPoolId}).then(function(a){return o.cognitoIdentityClient.getOpenIdToken(a)}).then(function(a){return o.stsClient.assumeRoleWithWebIdentity({RoleArn:o.config.guestRoleArn,RoleSessionName:"cwr",WebIdentityToken:a.Token})}).then(function(a){o.credentials=a;try{localStorage.setItem(Qe,JSON.stringify(a))}catch{}return a})]})})};var r=e.identityPoolId.split(":")[0];this.config=e,this.stsClient=new Mi({fetchRequestHandler:new qt,region:r}),this.cognitoIdentityClient=new Er({fetchRequestHandler:new qt,region:r})}return n.prototype.renewCredentials=function(){if(!this.credentials||!this.credentials.expiration)return!0;var e=new Date(this.credentials.expiration.getTime()-xr);return new Date>e},n}(),je=globalThis&&globalThis.__awaiter||function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function c(f){try{s(r.next(f))}catch(v){a(v)}}function u(f){try{s(r.throw(f))}catch(v){a(v)}}function s(f){f.done?i(f.value):o(f.value).then(c,u)}s((r=r.apply(n,e||[])).next())})},He=globalThis&&globalThis.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(f){return u([s,f])}}function u(s){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,o=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){t.label=s[1];break}if(s[0]===6&&t.label<i[1]){t.label=i[1],i=s;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(s);break}i[2]&&t.ops.pop(),t.trys.pop();continue}s=e.call(n,t)}catch(f){s=[6,f],o=0}finally{r=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},$i=function(){function n(e){var t=this;this.ChainAnonymousCredentialsProvider=function(){return je(t,void 0,void 0,function(){return He(this,function(o){return[2,this.AnonymousCredentialsProvider().catch(this.AnonymousStorageCredentialsProvider).catch(this.AnonymousCognitoCredentialsProvider)]})})},this.AnonymousCredentialsProvider=function(){return je(t,void 0,void 0,function(){var o=this;return He(this,function(i){return[2,new Promise(function(a,c){if(o.renewCredentials())return c();a(o.credentials)})]})})},this.AnonymousStorageCredentialsProvider=function(){return je(t,void 0,void 0,function(){var o=this;return He(this,function(i){return[2,new Promise(function(a,c){var u;try{u=JSON.parse(localStorage.getItem(Qe))}catch{c()}if(u.expiration=new Date(u.expiration),o.credentials=u,o.renewCredentials())return c();o.credentials=u,a(u)})]})})},this.AnonymousCognitoCredentialsProvider=function(){return je(t,void 0,void 0,function(){var o,i=this;return He(this,function(a){return o=Ii({client:this.cognitoIdentityClient,identityPoolId:this.config.identityPoolId}),[2,o().then(function(c){i.credentials=c;try{localStorage.setItem(Qe,JSON.stringify(c))}catch{}return c})]})})};var r=e.identityPoolId.split(":")[0];this.config=e,this.cognitoIdentityClient=new Er({fetchRequestHandler:new qt,region:r})}return n.prototype.renewCredentials=function(){if(!this.credentials||!this.credentials.expiration)return!0;var e=new Date(this.credentials.expiration.getTime()-xr);return new Date>e},n}(),F="com.amazon.rum",qi="com.amazonaws.rum",tt="".concat(F,".http_event"),Tr="".concat(F,".xray_trace_event"),Gi="".concat(F,".largest_contentful_paint_event"),Vi="".concat(F,".first_input_delay_event"),zi="".concat(F,".cumulative_layout_shift_event"),Gt="".concat(F,".performance_navigation_event"),Wi="".concat(F,".performance_resource_event"),Xi="".concat(F,".dom_event"),Ki="".concat(F,".js_error_event"),Yi="".concat(F,".page_view_event"),z=function(){function n(e){this.enabled=!0,this.pluginId=n.generatePluginId(e)}return n.generatePluginId=function(e){return"".concat(n.idPrefix,".").concat(e)},n.prototype.load=function(e){var t;this.context=e,(t=this.onload)===null||t===void 0||t.call(this)},n.prototype.getPluginId=function(){return this.pluginId},n.idPrefix=qi,n}(),Ji=function(){function n(e){this.context=e,this.plugins=new Map}return n.prototype.addPlugin=function(e){var t=e.getPluginId();if(this.hasPlugin(t))throw new Error('Plugin "'.concat(t,'" already defined in the PluginManager'));this.plugins.set(t,e),e.load(this.context)},n.prototype.updatePlugin=function(e,t){var r,o=this.getPlugin(e);(r=o==null?void 0:o.update)===null||r===void 0||r.call(o,t)},n.prototype.enable=function(){this.plugins.forEach(function(e){return e.enable()})},n.prototype.disable=function(){this.plugins.forEach(function(e){return e.disable()})},n.prototype.hasPlugin=function(e){return!!this.getPlugin(e)},n.prototype.record=function(e,t){var r=this.getPlugin(e);if((r==null?void 0:r.record)instanceof Function)r.record(t);else throw new Error("AWS RUM Client record: Invalid plugin ID")},n.prototype.getPlugin=function(e){var t;return(t=this.plugins.get(e))!==null&&t!==void 0?t:this.plugins.get(z.generatePluginId(e))},n}(),Zi=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),q=globalThis&&globalThis.__assign||function(){return q=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},q.apply(this,arguments)},Sr="dom-event",Qi={interactionId:function(){return""},enableMutationObserver:!1,events:[]},eo=function(n){Zi(e,n);function e(t){var r=n.call(this,Sr)||this;return r.enabled=!1,r.eventListenerMap=new Map,r.config=q(q({},Qi),t),r}return e.getElementInfo=function(t){var r={name:"UNKNOWN"};return t.target instanceof Node&&(r.name=t.target.nodeName),t.target instanceof Element&&t.target.id&&(r.id=t.target.id),r},e.prototype.enable=function(){var t=this;if(document.readyState!=="complete"){window.addEventListener("load",function(){return t.enable()});return}this.enabled||(this.addListeners(),this.config.enableMutationObserver&&this.observeDOMMutation(),this.enabled=!0)},e.prototype.disable=function(){this.enabled&&(this.removeListeners(),this.observer&&this.observer.disconnect(),this.enabled=!1)},e.prototype.update=function(t){var r=this;t.forEach(function(o){r.addEventHandler(o),r.config.events.push(o)})},e.prototype.onload=function(){this.enable()},e.prototype.removeListeners=function(){var t=this;this.config.events.forEach(function(r){return t.removeEventHandler(r)})},e.prototype.addListeners=function(){var t=this;this.config.events.forEach(function(r){return t.addEventHandler(r)})},e.prototype.getEventListener=function(t){var r=this;return function(o){var i,a=e.getElementInfo(o),c=r.config.interactionId(o),u=q(q(q({version:"1.1.0",event:o.type,element:a.name},a.id?{elementId:a.id}:{}),c?{interactionId:c}:{}),t?{cssLocator:t}:{});!((i=r.context)===null||i===void 0)&&i.record&&r.context.record(Xi,u)}},e.prototype.addEventHandler=function(t){var r=t.event,o=this.getEventListener(t.cssLocator),i=[],a=this.eventListenerMap.has(t)?this.eventListenerMap.get(t):[];if(t.cssLocator){var c=document.querySelectorAll(t.cssLocator);c.forEach(function(s){i.push(s)})}else if(t.elementId){var u=document.getElementById(t.elementId);u&&i.push(u)}else t.element&&i.push(t.element);i.forEach(function(s){s.addEventListener(r,o),a.push({element:s,eventListener:o})}),this.eventListenerMap.set(t,a)},e.prototype.removeEventHandler=function(t){var r=this.eventListenerMap.get(t);r&&(r.forEach(function(o){var i=o.element,a=o.eventListener;i.removeEventListener(t.event,a)}),this.eventListenerMap.delete(t))},e.prototype.observeDOMMutation=function(){var t=this;this.observer=new MutationObserver(function(){t.removeListeners(),t.addListeners()}),this.observer.observe(document,{childList:!0,subtree:!0})},e}(z),to=function(n){var e=typeof n;return(e==="object"||e==="function")&&!!n},no=function(n){var e={version:"1.0.0",type:"undefined",message:"undefined"};return n.type!==void 0&&(e.type=n.type),n.message!==void 0&&(e.message=n.message),n.filename!==void 0&&(e.filename=n.filename),n.lineno!==void 0&&(e.lineno=n.lineno),n.colno!==void 0&&(e.colno=n.colno),e},ro=function(n,e){n.type!=="unhandledrejection"&&(n.type=e.toString()),n.message=e.toString()},io=function(n,e,t){e.name&&(n.type=e.name),e.message&&(n.message=e.message),e.fileName&&(n.filename=e.fileName),e.lineNumber&&(n.lineno=e.lineNumber),e.columnNumber&&(n.colno=e.columnNumber),t&&e.stack&&(n.stack=e.stack.length>t?e.stack.substring(0,t)+"...":e.stack)},Cr=function(n){return n!==Object(n)&&n!==void 0&&n!==null},an=function(n,e){var t=no(n),r=n.error;return to(r)?io(t,r,e):Cr(r)&&ro(t,r),t},oo=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nt=globalThis&&globalThis.__assign||function(){return nt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},nt.apply(this,arguments)},Ar="js-error",ao={stackTraceLength:1e3,ignore:function(){return!1}},so=function(n){oo(e,n);function e(t){var r=n.call(this,Ar)||this;return r.eventHandler=function(o){r.config.ignore(o)||r.recordJsErrorEvent(o)},r.promiseRejectEventHandler=function(o){r.config.ignore(o)||r.recordJsErrorEvent({type:o.type,error:o.reason})},r.config=nt(nt({},ao),t),r}return e.prototype.enable=function(){this.enabled||(this.addEventHandler(),this.enabled=!0)},e.prototype.disable=function(){this.enabled&&(this.removeEventHandler(),this.enabled=!1)},e.prototype.record=function(t){t instanceof ErrorEvent?this.recordJsErrorEvent(t):this.recordJsErrorEvent({type:"error",error:t})},e.prototype.onload=function(){this.addEventHandler()},e.prototype.recordJsErrorEvent=function(t){var r;(r=this.context)===null||r===void 0||r.record(Ki,an(t,this.config.stackTraceLength))},e.prototype.addEventHandler=function(){window.addEventListener("error",this.eventHandler),window.addEventListener("unhandledrejection",this.promiseRejectEventHandler)},e.prototype.removeEventHandler=function(){window.removeEventListener("error",this.eventHandler),window.removeEventListener("unhandledrejection",this.promiseRejectEventHandler)},e}(z),Mn=function(n,e,t,r,o){var i=n+"=";i+=e||"",o!==void 0?i+="; Expires=".concat(o.toUTCString()):r!==void 0&&(i+="; Expires=".concat(co(r).toUTCString())),i+="; Domain=".concat(t.domain),i+="; Path=".concat(t.path),i+="; SameSite=".concat(t.sameSite),i+=t.secure?"; Secure":"",document.cookie=i},co=function(n){return new Date(new Date().getTime()+n*1e3)},jn=function(n){for(var e=document.cookie.split("; "),t=0,r=e;t<r.length;t++){var o=r[t],i=o.split("=");if(i[0]===n)return i[1]}return""};let $e;const uo=new Uint8Array(16);function fo(){if(!$e&&($e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $e(uo)}const A=[];for(let n=0;n<256;++n)A.push((n+256).toString(16).slice(1));function lo(n,e=0){return(A[n[e+0]]+A[n[e+1]]+A[n[e+2]]+A[n[e+3]]+"-"+A[n[e+4]]+A[n[e+5]]+"-"+A[n[e+6]]+A[n[e+7]]+"-"+A[n[e+8]]+A[n[e+9]]+"-"+A[n[e+10]]+A[n[e+11]]+A[n[e+12]]+A[n[e+13]]+A[n[e+14]]+A[n[e+15]]).toLowerCase()}const ho=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Hn={randomUUID:ho};function ye(n,e,t){if(Hn.randomUUID&&!e&&!n)return Hn.randomUUID();n=n||{};const r=n.random||(n.rng||fo)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=r[o];return e}return lo(r)}var Vt={exports:{}};(function(n,e){(function(t,r){var o="1.0.35",i="",a="?",c="function",u="undefined",s="object",f="string",v="major",l="model",p="name",d="type",h="vendor",g="version",C="architecture",S="console",b="mobile",w="tablet",O="smarttv",N="wearable",oe="embedded",bt=350,Ie="Amazon",ae="Apple",mn="ASUS",yn="BlackBerry",W="Browser",Pe="Chrome",li="Edge",Be="Firefox",De="Google",bn="Huawei",wt="LG",_t="Microsoft",wn="Motorola",Re="Opera",Et="Samsung",_n="Sharp",Le="Sony",xt="Xiaomi",Tt="Zebra",En="Facebook",xn="Chromium OS",Tn="Mac OS",di=function(_,x){var y={};for(var T in _)x[T]&&x[T].length%2===0?y[T]=x[T].concat(_[T]):y[T]=_[T];return y},ke=function(_){for(var x={},y=0;y<_.length;y++)x[_[y].toUpperCase()]=_[y];return x},Sn=function(_,x){return typeof _===f?se(x).indexOf(se(_))!==-1:!1},se=function(_){return _.toLowerCase()},hi=function(_){return typeof _===f?_.replace(/[^\d\.]/g,i).split(".")[0]:r},St=function(_,x){if(typeof _===f)return _=_.replace(/^\s\s*/,i),typeof x===u?_:_.substring(0,bt)},ce=function(_,x){for(var y=0,T,U,L,E,m,k;y<x.length&&!m;){var At=x[y],On=x[y+1];for(T=U=0;T<At.length&&!m&&At[T];)if(m=At[T++].exec(_),m)for(L=0;L<On.length;L++)k=m[++U],E=On[L],typeof E===s&&E.length>0?E.length===2?typeof E[1]==c?this[E[0]]=E[1].call(this,k):this[E[0]]=E[1]:E.length===3?typeof E[1]===c&&!(E[1].exec&&E[1].test)?this[E[0]]=k?E[1].call(this,k,E[2]):r:this[E[0]]=k?k.replace(E[1],E[2]):r:E.length===4&&(this[E[0]]=k?E[3].call(this,k.replace(E[1],E[2])):r):this[E]=k||r;y+=2}},Ct=function(_,x){for(var y in x)if(typeof x[y]===s&&x[y].length>0){for(var T=0;T<x[y].length;T++)if(Sn(x[y][T],_))return y===a?r:y}else if(Sn(x[y],_))return y===a?r:y;return _},pi={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Cn={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},An={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,g],[/opios[\/ ]+([\w\.]+)/i],[g,[p,Re+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[p,Re]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[p,"UC"+W]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[g,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+W],g],[/\bfocus\/([\w\.]+)/i],[g,[p,Be+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[p,Re+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[p,Re+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[p,"MIUI "+W]],[/fxios\/([-\w\.]+)/i],[g,[p,Be]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+W]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+W],g],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,En],g],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[p,Pe+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,Pe+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[p,"Android "+W]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[g,Ct,pi]],[/(webkit|khtml)\/([\w\.]+)/i],[p,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[p,Be+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,g],[/(cobalt)\/([\w\.]+)/i],[p,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[C,"amd64"]],[/(ia32(?=;))/i],[[C,se]],[/((?:i[346]|x)86)[;\)]/i],[[C,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[C,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[C,"armhf"]],[/windows (ce|mobile); ppc;/i],[[C,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[C,/ower/,i,se]],[/(sun4\w)[;\)]/i],[[C,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[C,se]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,Et],[d,w]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,Et],[d,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[l,[h,ae],[d,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,ae],[d,w]],[/(macintosh);/i],[l,[h,ae]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,_n],[d,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,bn],[d,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[h,bn],[d,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,xt],[d,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,xt],[d,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[d,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[d,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[d,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,wn],[d,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,wn],[d,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,wt],[d,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,wt],[d,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[d,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[d,b]],[/(pixel c)\b/i],[l,[h,De],[d,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,De],[d,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,Le],[d,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,Le],[d,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[d,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,Ie],[d,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,Ie],[d,b]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[d,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,yn],[d,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,mn],[d,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,mn],[d,b]],[/(nexus 9)/i],[l,[h,"HTC"],[d,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[d,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[d,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[d,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[d,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[d,w]],[/(surface duo)/i],[l,[h,_t],[d,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[d,b]],[/(u304aa)/i],[l,[h,"AT&T"],[d,b]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[d,b]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[d,w]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[d,w]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[d,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[d,w]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[d,w]],[/\b(k88) b/i],[l,[h,"ZTE"],[d,w]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[d,b]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[d,b]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[d,w]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[d,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[d,w]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[d,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[d,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[d,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[d,b]],[/\b(ph-1) /i],[l,[h,"Essential"],[d,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[d,w]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[d,w]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[d,w]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[d,w]],[/(sprint) (\w+)/i],[h,l,[d,b]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,_t],[d,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,Tt],[d,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,Tt],[d,b]],[/smart-tv.+(samsung)/i],[h,[d,O]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,Et],[d,O]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,wt],[d,O]],[/(apple) ?tv/i],[h,[l,ae+" TV"],[d,O]],[/crkey/i],[[l,Pe+"cast"],[h,De],[d,O]],[/droid.+aft(\w)( bui|\))/i],[l,[h,Ie],[d,O]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[h,_n],[d,O]],[/(bravia[\w ]+)( bui|\))/i],[l,[h,Le],[d,O]],[/(mitv-\w{5}) bui/i],[l,[h,xt],[d,O]],[/Hbbtv.*(technisat) (.*);/i],[h,l,[d,O]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,St],[l,St],[d,O]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,O]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[d,S]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[d,S]],[/(playstation [345portablevi]+)/i],[l,[h,Le],[d,S]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,_t],[d,S]],[/((pebble))app/i],[h,l,[d,N]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[h,ae],[d,N]],[/droid.+; (glass) \d/i],[l,[h,De],[d,N]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,Tt],[d,N]],[/(quest( 2| pro)?)/i],[l,[h,En],[d,N]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[d,oe]],[/(aeobc)\b/i],[l,[h,Ie],[d,oe]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[d,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[d,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,b]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[p,li+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[g,Ct,Cn]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[g,Ct,Cn]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,Tn],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,g],[/\(bb(10);/i],[g,[p,yn]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[p,Be+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[p,Pe+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,xn],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,g],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,g]]},R=function(_,x){if(typeof _===s&&(x=_,_=r),!(this instanceof R))return new R(_,x).getResult();var y=typeof t!==u&&t.navigator?t.navigator:r,T=_||(y&&y.userAgent?y.userAgent:i),U=y&&y.userAgentData?y.userAgentData:r,L=x?di(An,x):An,E=y&&y.userAgent==T;return this.getBrowser=function(){var m={};return m[p]=r,m[g]=r,ce.call(m,T,L.browser),m[v]=hi(m[g]),E&&y&&y.brave&&typeof y.brave.isBrave==c&&(m[p]="Brave"),m},this.getCPU=function(){var m={};return m[C]=r,ce.call(m,T,L.cpu),m},this.getDevice=function(){var m={};return m[h]=r,m[l]=r,m[d]=r,ce.call(m,T,L.device),E&&!m[d]&&U&&U.mobile&&(m[d]=b),E&&m[l]=="Macintosh"&&y&&typeof y.standalone!==u&&y.maxTouchPoints&&y.maxTouchPoints>2&&(m[l]="iPad",m[d]=w),m},this.getEngine=function(){var m={};return m[p]=r,m[g]=r,ce.call(m,T,L.engine),m},this.getOS=function(){var m={};return m[p]=r,m[g]=r,ce.call(m,T,L.os),E&&!m[p]&&U&&U.platform!="Unknown"&&(m[p]=U.platform.replace(/chrome os/i,xn).replace(/macos/i,Tn)),m},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return T},this.setUA=function(m){return T=typeof m===f&&m.length>bt?St(m,bt):m,this},this.setUA(T),this};R.VERSION=o,R.BROWSER=ke([p,g,v]),R.CPU=ke([C]),R.DEVICE=ke([l,h,d,S,b,O,w,N,oe]),R.ENGINE=R.OS=ke([p,g]),n.exports&&(e=n.exports=R),e.UAParser=R;var X=typeof t!==u&&(t.jQuery||t.Zepto);if(X&&!X.ua){var Fe=new R;X.ua=Fe.getResult(),X.ua.get=function(){return Fe.getUA()},X.ua.set=function(_){Fe.setUA(_);var x=Fe.getResult();for(var y in x)X.ua[y]=x[y]}}})(typeof window=="object"?window:yi)})(Vt,Vt.exports);var po=Vt.exports,rt=globalThis&&globalThis.__assign||function(){return rt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},rt.apply(this,arguments)},qe="00000000-0000-0000-0000-000000000000",Ge="unknown",vo="desktop",go="web",mo="com.amazon.rum.session_start_event",yo=function(){function n(e,t,r,o){this.appMonitorDetails=e,this.config=t,this.record=r,this.pageManager=o,this.session={sessionId:qe,record:this.sample(),eventCount:0},this.initializeUser(),this.collectAttributes(),this.addSessionAttributes(this.config.sessionAttributes),this.getSessionFromCookie()}return n.prototype.getSession=function(){return this.session.sessionId===qe?this.createSession():this.session.sessionId!==qe&&new Date>this.sessionExpiry&&this.createSession(),this.session},n.prototype.getAttributes=function(){return this.attributes},n.prototype.addSessionAttributes=function(e){this.attributes=rt(rt({},e),this.attributes)},n.prototype.getUserId=function(){return this.useCookies()?this.userId:qe},n.prototype.incrementSessionEventCount=function(){this.session.eventCount++,this.renewSession()},n.prototype.initializeUser=function(){var e="";this.userExpiry=new Date,this.userExpiry.setDate(this.userExpiry.getDate()+this.config.userIdRetentionDays),this.config.userIdRetentionDays<=0?this.userId="00000000-0000-0000-0000-000000000000":this.useCookies()?(e=this.getUserIdCookie(),this.userId=e||ye(),this.createOrRenewUserCookie(e,this.userExpiry)):this.userId=ye()},n.prototype.createOrRenewSessionCookie=function(e,t){btoa&&Mn(this.sessionCookieName(),btoa(JSON.stringify(e)),this.config.cookieAttributes,void 0,t)},n.prototype.createOrRenewUserCookie=function(e,t){Mn(Un,e,this.config.cookieAttributes,void 0,t)},n.prototype.getUserIdCookie=function(){return jn(Un)},n.prototype.getSessionFromCookie=function(){if(this.useCookies()){var e=jn(this.sessionCookieName());if(e&&atob)try{this.session=JSON.parse(atob(e)),this.pageManager.resumeSession(this.session.page)}catch{}}},n.prototype.storeSessionAsCookie=function(){this.useCookies()&&this.config.userIdRetentionDays>0&&this.createOrRenewUserCookie(this.userId,this.userExpiry),this.useCookies()&&this.createOrRenewSessionCookie(this.session,this.sessionExpiry)},n.prototype.createSession=function(){this.session={sessionId:ye(),record:this.sample(),eventCount:0},this.session.page=this.pageManager.getPage(),this.sessionExpiry=new Date(new Date().getTime()+this.config.sessionLengthSeconds*1e3),this.storeSessionAsCookie(),this.record(this.session,mo,{version:"1.0.0"})},n.prototype.renewSession=function(){this.sessionExpiry=new Date(new Date().getTime()+this.config.sessionLengthSeconds*1e3),this.session.page=this.pageManager.getPage(),this.storeSessionAsCookie()},n.prototype.collectAttributes=function(){var e=new po.UAParser(navigator.userAgent).getResult();this.attributes={browserLanguage:navigator.language,browserName:e.browser.name?e.browser.name:Ge,browserVersion:e.browser.version?e.browser.version:Ge,osName:e.os.name?e.os.name:Ge,osVersion:e.os.version?e.os.version:Ge,deviceType:e.device.type?e.device.type:vo,platformType:go,domain:window.location.hostname}},n.prototype.useCookies=function(){return navigator.cookieEnabled&&this.config.allowCookies},n.prototype.sample=function(){return Math.random()<this.config.sessionSampleRate},n.prototype.sessionCookieName=function(){return this.config.cookieAttributes.unique?"".concat(Nn,"_").concat(this.appMonitorDetails.id):Nn},n}();function zt(n){return typeof n=="function"}var I=console.error.bind(console);function ue(n,e,t){var r=!!n[e]&&n.propertyIsEnumerable(e);Object.defineProperty(n,e,{configurable:!0,enumerable:r,writable:!0,value:t})}function Ae(n){n&&n.logger&&(zt(n.logger)?I=n.logger:I("new logger isn't a function, not replacing"))}function Or(n,e,t){if(!n||!n[e]){I("no original function "+e+" to wrap");return}if(!t){I("no wrapper function"),I(new Error().stack);return}if(!zt(n[e])||!zt(t)){I("original object and wrapper must be functions");return}var r=n[e],o=t(r,e);return ue(o,"__original",r),ue(o,"__unwrap",function(){n[e]===o&&ue(n,e,r)}),ue(o,"__wrapped",!0),ue(n,e,o),o}function bo(n,e,t){if(n)Array.isArray(n)||(n=[n]);else{I("must provide one or more modules to patch"),I(new Error().stack);return}if(!(e&&Array.isArray(e))){I("must provide one or more functions to wrap on modules");return}n.forEach(function(r){e.forEach(function(o){Or(r,o,t)})})}function Ir(n,e){if(!n||!n[e]){I("no function to unwrap."),I(new Error().stack);return}if(!n[e].__unwrap)I("no original to unwrap to -- has "+e+" already been unwrapped?");else return n[e].__unwrap()}function wo(n,e){if(n)Array.isArray(n)||(n=[n]);else{I("must provide one or more modules to patch"),I(new Error().stack);return}if(!(e&&Array.isArray(e))){I("must provide one or more functions to unwrap on modules");return}n.forEach(function(t){e.forEach(function(r){Ir(t,r)})})}Ae.wrap=Or;Ae.massWrap=bo;Ae.unwrap=Ir;Ae.massUnwrap=wo;var it=Ae;const _o=bi(it),$n=wi({__proto__:null,default:_o},[it]);var Eo=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ht=function(n){Eo(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.enable=t.patch.bind(t,!0),t.disable=t.patch.bind(t,!1),t.enabled=!1,t}return e.prototype.patchAll=function(){for(var t=it.wrap.bind($n),r=0,o=this.patches;r<o.length;r++){var i=o[r];t(i.nodule,i.name,i.wrapper())}},e.prototype.unpatchAll=function(){for(var t=it.unwrap.bind($n),r=0,o=this.patches;r<o.length;r++){var i=o[r];t(i.nodule,i.name)}},e.prototype.patch=function(t){t===void 0&&(t=!0),this.enabled!==t&&(this.enabled=t,t?this.patchAll():this.unpatchAll())},e}(z),xo=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),To=function(n){xo(e,n);function e(t,r,o){var i=n.call(this,"virtual-page-load-timer")||this;return i.sendWrapper=function(){var a=i;return function(c){return function(){return a.recordXhr(this),this.addEventListener("loadend",a.endTracking),c.apply(this,arguments)}}},i.endTracking=function(a){var c=Date.now(),u=a.target;u.removeEventListener("loadend",i.endTracking),i.removeXhr(u,c)},i.fetch=function(a,c,u){return a.apply(c,u).catch(function(s){throw s}).finally(i.decrementFetchCounter)},i.fetchWrapper=function(){var a=i;return function(c){return function(u,s){return a.fetchCounter+=1,a.fetch(c,this,arguments)}}},i.decrementFetchCounter=function(){i.isPageLoaded||(i.latestEndTime=Date.now()),i.fetchCounter-=1},i.checkLoadStatus=function(){i.ongoingRequests.size===0&&i.fetchCounter===0&&(clearInterval(i.periodicCheckerId),clearTimeout(i.timeoutCheckerId),i.domMutationObserver.disconnect(),i.recordRouteChangeNavigationEvent(i.pageManager.getPage()),i.periodicCheckerId=void 0,i.timeoutCheckerId=void 0,i.isPageLoaded=!0)},i.declareTimeout=function(){clearInterval(i.periodicCheckerId),i.periodicCheckerId=void 0,i.timeoutCheckerId=void 0,i.domMutationObserver.disconnect(),i.isPageLoaded=!0},i.resetInterval=function(){i.latestEndTime=Date.now(),clearInterval(i.periodicCheckerId),i.periodicCheckerId=setInterval(i.checkLoadStatus,i.config.routeChangeComplete)},i.moveItemsFromBuffer=function(a){i.ongoingRequests.add(a)},i.updateLatestInteractionTime=function(a){i.latestInteractionTime=Date.now()},i.periodicCheckerId=void 0,i.timeoutCheckerId=void 0,i.domMutationObserver=new MutationObserver(i.resetInterval),i.ongoingRequests=new Set,i.requestBuffer=new Set,i.fetchCounter=0,i.isPageLoaded=!0,i.latestEndTime=0,i.latestInteractionTime=0,i.config=r,i.pageManager=t,i.record=o,i.enable(),document.addEventListener("mousedown",i.updateLatestInteractionTime),document.addEventListener("keydown",i.updateLatestInteractionTime),i}return Object.defineProperty(e.prototype,"patches",{get:function(){return[{nodule:XMLHttpRequest.prototype,name:"send",wrapper:this.sendWrapper},{nodule:window,name:"fetch",wrapper:this.fetchWrapper}]},enumerable:!1,configurable:!0}),e.prototype.startTiming=function(){this.latestEndTime=Date.now(),this.periodicCheckerId&&clearInterval(this.periodicCheckerId),this.timeoutCheckerId&&clearTimeout(this.timeoutCheckerId),this.domMutationObserver.disconnect(),this.periodicCheckerId=setInterval(this.checkLoadStatus,this.config.routeChangeComplete),this.timeoutCheckerId=setTimeout(this.declareTimeout,this.config.routeChangeTimeout),this.domMutationObserver.observe(document,{subtree:!0,childList:!0,attributes:!1,characterData:!1}),this.isPageLoaded=!1,this.requestBuffer.forEach(this.moveItemsFromBuffer),this.requestBuffer.clear()},e.prototype.recordXhr=function(t){var r=this.pageManager.getPage();r&&this.isPageLoaded===!1?this.ongoingRequests.add(t):this.requestBuffer.add(t)},e.prototype.removeXhr=function(t,r){var o=this.pageManager.getPage();o&&this.ongoingRequests.has(t)?(this.ongoingRequests.delete(t),this.latestEndTime=r):this.requestBuffer.has(t)&&this.requestBuffer.delete(t)},e.prototype.recordRouteChangeNavigationEvent=function(t){var r={version:"1.0.0",initiatorType:"route_change",navigationType:"navigate",startTime:t.start,duration:this.latestEndTime-t.start};this.record&&this.record(Gt,r)},e}(ht),ot=globalThis&&globalThis.__assign||function(){return ot=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},ot.apply(this,arguments)},So=function(){function n(e,t){this.TIMEOUT=1e3,this.config=e,this.record=t,this.page=void 0,this.resumed=!1,this.recordInteraction=!1,this.virtualPageLoadTimer=new To(this,e,t)}return n.prototype.getPage=function(){return this.page},n.prototype.getAttributes=function(){return this.attributes},n.prototype.resumeSession=function(e){this.recordInteraction=!0,e&&(this.page=e,this.resumed=!0)},n.prototype.recordPageView=function(e){var t;if(typeof e=="string"?t=e:t=e.pageId,this.useCookies()&&(this.recordInteraction=!0),!this.page)this.createLandingPage(t);else if(this.page.pageId!==t)this.createNextPage(this.page,t);else if(this.resumed){this.collectAttributes(this.page,typeof e=="object"?e:void 0);return}else return;this.collectAttributes(this.page,typeof e=="object"?e:void 0),this.recordPageViewEvent(this.page)},n.prototype.createNextPage=function(e,t){var r=Date.now(),o=this.virtualPageLoadTimer.latestInteractionTime;!this.resumed&&r-o<=this.TIMEOUT&&(r=o,this.virtualPageLoadTimer.startTiming()),this.timeOnParentPage=r-e.start,this.resumed=!1,this.page={pageId:t,parentPageId:e.pageId,interaction:e.interaction+1,referrer:document.referrer,referrerDomain:this.getDomainFromReferrer(),start:r}},n.prototype.createLandingPage=function(e){this.page={pageId:e,interaction:0,referrer:document.referrer,referrerDomain:this.getDomainFromReferrer(),start:Date.now()}},n.prototype.collectAttributes=function(e,t){this.attributes={title:document.title,pageId:e.pageId},this.recordInteraction&&(this.attributes.interaction=e.interaction,e.parentPageId!==void 0&&(this.attributes.parentPageId=e.parentPageId)),t!=null&&t.pageTags&&(this.attributes.pageTags=t.pageTags),t!=null&&t.pageAttributes&&(this.attributes=ot(ot({},t.pageAttributes),this.attributes))},n.prototype.createPageViewEvent=function(e){var t={version:"1.0.0",pageId:e.pageId};return this.recordInteraction&&(t.interaction=e.interaction,t.pageInteractionId=e.pageId+"-"+e.interaction,e.parentPageId!==void 0&&(t.parentPageInteractionId=e.parentPageId+"-"+(e.interaction-1),t.timeOnParentPage=this.timeOnParentPage),t.referrer=document.referrer,t.referrerDomain=this.getDomainFromReferrer()),t},n.prototype.recordPageViewEvent=function(e){this.record(Yi,this.createPageViewEvent(e))},n.prototype.useCookies=function(){return navigator.cookieEnabled&&this.config.allowCookies},n.prototype.getDomainFromReferrer=function(){try{return new URL(document.referrer).hostname}catch{return document.referrer==="localhost"?document.referrer:""}},n}(),be=globalThis&&globalThis.__assign||function(){return be=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},be.apply(this,arguments)},Co="1.14.0",Ao=function(){function n(e,t){var r=this;this.events=[],this.recordPageView=function(o){r.isCurrentUrlAllowed()&&r.pageManager.recordPageView(o)},this.recordEvent=function(o,i){if(r.enabled&&r.isCurrentUrlAllowed()){var a=r.sessionManager.getSession();r.sessionManager.incrementSessionEventCount(),r.canRecord(a)&&r.addRecordToCache(o,i)}},this.getSession=function(){if(r.isCurrentUrlAllowed())return r.sessionManager.getSession()},this.recordSessionInitEvent=function(o,i,a){r.enabled&&(r.sessionManager.incrementSessionEventCount(),r.canRecord(o)&&r.addRecordToCache(i,a))},this.canRecord=function(o){return o.record&&(o.eventCount<=r.config.sessionEventLimit||r.config.sessionEventLimit<=0)},this.addRecordToCache=function(o,i){if(r.enabled){r.events.length===r.config.eventCacheSize&&r.events.shift();var a=be(be(be({},r.sessionManager.getAttributes()),r.pageManager.getAttributes()),{version:"1.0.0","aws:client":r.installationMethod,"aws:clientVersion":Co});r.events.push({details:JSON.stringify(i),id:ye(),metadata:JSON.stringify(a),timestamp:new Date,type:o})}},this.appMonitorDetails=e,this.config=t,this.enabled=!0,this.pageManager=new So(t,this.recordEvent),this.sessionManager=new yo(e,t,this.recordSessionInitEvent,this.pageManager),this.installationMethod=t.client}return n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.hasEvents=function(){return this.events.length!==0},n.prototype.getEventBatch=function(){var e=[];return this.events.length===0||(this.events.length<=this.config.batchLimit?(e=this.events,this.events=[]):e=this.events.splice(0,this.config.batchLimit)),e},n.prototype.getAppMonitorDetails=function(){return this.appMonitorDetails},n.prototype.getUserDetails=function(){return{userId:this.sessionManager.getUserId(),sessionId:this.sessionManager.getSession().sessionId}},n.prototype.addSessionAttributes=function(e){this.sessionManager.addSessionAttributes(e)},n.prototype.isCurrentUrlAllowed=function(){var e=document.location.toString(),t=this.config.pagesToExclude.some(function(o){return o.test(e)}),r=this.config.pagesToInclude.some(function(o){return o.test(e)});return r&&!t},n}();const Pr={},Wt={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),Pr[n]=e,Wt[e]=n}function Oo(n){if(n.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(n.length/2);for(let t=0;t<n.length;t+=2){const r=n.slice(t,t+2).toLowerCase();if(r in Wt)e[t/2]=Wt[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return e}function D(n){let e="";for(let t=0;t<n.byteLength;t++)e+=Pr[n[t]];return e}var Bt={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xt=function(n,e){return Xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])},Xt(n,e)};function Io(n,e){Xt(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Kt=function(){return Kt=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Kt.apply(this,arguments)};function Po(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function Bo(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(a=n[c])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function Do(n,e){return function(t,r){e(t,r,n)}}function Ro(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function Lo(n,e,t,r){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function c(f){try{s(r.next(f))}catch(v){a(v)}}function u(f){try{s(r.throw(f))}catch(v){a(v)}}function s(f){f.done?i(f.value):o(f.value).then(c,u)}s((r=r.apply(n,e||[])).next())})}function ko(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(f){return u([s,f])}}function u(s){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,o=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){t.label=s[1];break}if(s[0]===6&&t.label<i[1]){t.label=i[1],i=s;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(s);break}i[2]&&t.ops.pop(),t.trys.pop();continue}s=e.call(n,t)}catch(f){s=[6,f],o=0}finally{r=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function Fo(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}function No(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Yt(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Br(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(c){a={error:c}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i}function Uo(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Br(arguments[e]));return n}function Mo(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),o=0,e=0;e<t;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r}function Te(n){return this instanceof Te?(this.v=n,this):new Te(n)}function jo(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(l){r[l]&&(o[l]=function(p){return new Promise(function(d,h){i.push([l,p,d,h])>1||c(l,p)})})}function c(l,p){try{u(r[l](p))}catch(d){v(i[0][3],d)}}function u(l){l.value instanceof Te?Promise.resolve(l.value.v).then(s,f):v(i[0][2],l)}function s(l){c("next",l)}function f(l){c("throw",l)}function v(l,p){l(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Ho(n){var e,t;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,i){e[o]=n[o]?function(a){return(t=!t)?{value:Te(n[o](a)),done:o==="return"}:i?i(a):a}:i}}function $o(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Yt=="function"?Yt(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(a){return new Promise(function(c,u){a=n[i](a),o(c,u,a.done,a.value)})}}function o(i,a,c,u){Promise.resolve(u).then(function(s){i({value:s,done:c})},a)}}function qo(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function Go(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function Vo(n){return n&&n.__esModule?n:{default:n}}function zo(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function Wo(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}const Xo=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Kt},__asyncDelegator:Ho,__asyncGenerator:jo,__asyncValues:$o,__await:Te,__awaiter:Lo,__classPrivateFieldGet:zo,__classPrivateFieldSet:Wo,__createBinding:Fo,__decorate:Bo,__exportStar:No,__extends:Io,__generator:ko,__importDefault:Vo,__importStar:Go,__makeTemplateObject:qo,__metadata:Ro,__param:Do,__read:Br,__rest:Po,__spread:Uo,__spreadArrays:Mo,__values:Yt},Symbol.toStringTag,{value:"Module"})),Dr=rn(Xo);var sn={},pt={};const Ko=n=>{const e=[];for(let t=0,r=n.length;t<r;t++){const o=n.charCodeAt(t);if(o<128)e.push(o);else if(o<2048)e.push(o>>6|192,o&63|128);else if(t+1<n.length&&(o&64512)===55296&&(n.charCodeAt(t+1)&64512)===56320){const i=65536+((o&1023)<<10)+(n.charCodeAt(++t)&1023);e.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else e.push(o>>12|224,o>>6&63|128,o&63|128)}return Uint8Array.from(e)},Yo=n=>{let e="";for(let t=0,r=n.length;t<r;t++){const o=n[t];if(o<128)e+=String.fromCharCode(o);else if(192<=o&&o<224){const i=n[++t];e+=String.fromCharCode((o&31)<<6|i&63)}else if(240<=o&&o<365){const a="%"+[o,n[++t],n[++t],n[++t]].map(c=>c.toString(16)).join("%");e+=decodeURIComponent(a)}else e+=String.fromCharCode((o&15)<<12|(n[++t]&63)<<6|n[++t]&63)}return e};function Jo(n){return new TextEncoder().encode(n)}function Zo(n){return new TextDecoder("utf-8").decode(n)}const Qo=n=>typeof TextEncoder=="function"?Jo(n):Ko(n),ea=n=>typeof TextDecoder=="function"?Zo(n):Yo(n),ta=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:Qo,toUtf8:ea},Symbol.toStringTag,{value:"Module"})),Rr=rn(ta);Object.defineProperty(pt,"__esModule",{value:!0});pt.convertToBuffer=void 0;var na=Rr,ra=typeof Buffer<"u"&&Buffer.from?function(n){return Buffer.from(n,"utf8")}:na.fromUtf8;function ia(n){return n instanceof Uint8Array?n:typeof n=="string"?ra(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)}pt.convertToBuffer=ia;var vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.isEmptyData=void 0;function oa(n){return typeof n=="string"?n.length===0:n.byteLength===0}vt.isEmptyData=oa;var gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.numToUint8=void 0;function aa(n){return new Uint8Array([(n&4278190080)>>24,(n&16711680)>>16,(n&65280)>>8,n&255])}gt.numToUint8=aa;var mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.uint32ArrayFrom=void 0;function sa(n){if(!Uint32Array.from){for(var e=new Uint32Array(n.length),t=0;t<n.length;)e[t]=n[t],t+=1;return e}return Uint32Array.from(n)}mt.uint32ArrayFrom=sa;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.uint32ArrayFrom=n.numToUint8=n.isEmptyData=n.convertToBuffer=void 0;var e=pt;Object.defineProperty(n,"convertToBuffer",{enumerable:!0,get:function(){return e.convertToBuffer}});var t=vt;Object.defineProperty(n,"isEmptyData",{enumerable:!0,get:function(){return t.isEmptyData}});var r=gt;Object.defineProperty(n,"numToUint8",{enumerable:!0,get:function(){return r.numToUint8}});var o=mt;Object.defineProperty(n,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})})(sn);var fe={},qn;function ca(){if(qn)return fe;qn=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.AwsCrc32=void 0;var n=Dr,e=sn,t=Lr(),r=function(){function o(){this.crc32=new t.Crc32}return o.prototype.update=function(i){(0,e.isEmptyData)(i)||this.crc32.update((0,e.convertToBuffer)(i))},o.prototype.digest=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(i){return[2,(0,e.numToUint8)(this.crc32.digest())]})})},o.prototype.reset=function(){this.crc32=new t.Crc32},o}();return fe.AwsCrc32=r,fe}var Gn;function Lr(){return Gn||(Gn=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.AwsCrc32=n.Crc32=n.crc32=void 0;var e=Dr,t=sn;function r(u){return new o().update(u).digest()}n.crc32=r;var o=function(){function u(){this.checksum=4294967295}return u.prototype.update=function(s){var f,v;try{for(var l=e.__values(s),p=l.next();!p.done;p=l.next()){var d=p.value;this.checksum=this.checksum>>>8^a[(this.checksum^d)&255]}}catch(h){f={error:h}}finally{try{p&&!p.done&&(v=l.return)&&v.call(l)}finally{if(f)throw f.error}}return this},u.prototype.digest=function(){return(this.checksum^4294967295)>>>0},u}();n.Crc32=o;var i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],a=(0,t.uint32ArrayFrom)(i),c=ca();Object.defineProperty(n,"AwsCrc32",{enumerable:!0,get:function(){return c.AwsCrc32}})}(Bt)),Bt}Lr();class we{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let r=7,o=Math.abs(Math.round(e));r>-1&&o>0;r--,o/=256)t[r]=o;return e<0&&Vn(t),new we(t)}valueOf(){const e=this.bytes.slice(0),t=e[0]&128;return t&&Vn(e),parseInt(D(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function Vn(n){for(let e=0;e<8;e++)n[e]^=255;for(let e=7;e>-1&&(n[e]++,n[e]===0);e--);}class ua{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}format(e){const t=[];for(const i of Object.keys(e)){const a=this.fromUtf8(i);t.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(e[i]))}const r=new Uint8Array(t.reduce((i,a)=>i+a.byteLength,0));let o=0;for(const i of t)r.set(i,o),o+=i.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":const o=new Uint8Array(9);return o[0]=5,o.set(e.value.bytes,1),o;case"binary":const i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);const a=new Uint8Array(i.buffer);return a.set(e.value,3),a;case"string":const c=this.fromUtf8(e.value),u=new DataView(new ArrayBuffer(3+c.byteLength));u.setUint8(0,7),u.setUint16(1,c.byteLength,!1);const s=new Uint8Array(u.buffer);return s.set(c,3),s;case"timestamp":const f=new Uint8Array(9);return f[0]=8,f.set(we.fromNumber(e.value.valueOf()).bytes,1),f;case"uuid":if(!ya.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const v=new Uint8Array(17);return v[0]=9,v.set(Oo(e.value.replace(/\-/g,"")),1),v}}parse(e){const t={};let r=0;for(;r<e.byteLength;){const o=e.getUint8(r++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,o));switch(r+=o,e.getUint8(r++)){case 0:t[i]={type:Wn,value:!0};break;case 1:t[i]={type:Wn,value:!1};break;case 2:t[i]={type:fa,value:e.getInt8(r++)};break;case 3:t[i]={type:la,value:e.getInt16(r,!1)},r+=2;break;case 4:t[i]={type:da,value:e.getInt32(r,!1)},r+=4;break;case 5:t[i]={type:ha,value:new we(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:const a=e.getUint16(r,!1);r+=2,t[i]={type:pa,value:new Uint8Array(e.buffer,e.byteOffset+r,a)},r+=a;break;case 7:const c=e.getUint16(r,!1);r+=2,t[i]={type:va,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,c))},r+=c;break;case 8:t[i]={type:ga,value:new Date(new we(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:const u=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,t[i]={type:ma,value:`${D(u.subarray(0,4))}-${D(u.subarray(4,6))}-${D(u.subarray(6,8))}-${D(u.subarray(8,10))}-${D(u.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}}var zn;(function(n){n[n.boolTrue=0]="boolTrue",n[n.boolFalse=1]="boolFalse",n[n.byte=2]="byte",n[n.short=3]="short",n[n.integer=4]="integer",n[n.long=5]="long",n[n.byteArray=6]="byteArray",n[n.string=7]="string",n[n.timestamp=8]="timestamp",n[n.uuid=9]="uuid"})(zn||(zn={}));const Wn="boolean",fa="byte",la="short",da="integer",ha="long",pa="binary",va="string",ga="timestamp",ma="uuid",ya=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Xn=n=>{if(typeof n=="function")return n;const e=Promise.resolve(n);return()=>e},kr=n=>new TextEncoder().encode(n),_e=n=>typeof n=="string"?kr(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n),ba=n=>new TextDecoder("utf-8").decode(n),wa="X-Amz-Algorithm",_a="X-Amz-Credential",Fr="X-Amz-Date",Ea="X-Amz-SignedHeaders",xa="X-Amz-Expires",Nr="X-Amz-Signature",Ur="X-Amz-Security-Token",Mr="authorization",jr=Fr.toLowerCase(),Ta="date",Sa=[Mr,jr,Ta],Ca=Nr.toLowerCase(),Jt="x-amz-content-sha256",Aa=Ur.toLowerCase(),Oa={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Ia=/^proxy-/,Pa=/^sec-/,Dt="AWS4-HMAC-SHA256",Ba="AWS4-HMAC-SHA256-PAYLOAD",Da="UNSIGNED-PAYLOAD",Ra=50,Hr="aws4_request",La=60*60*24*7,Ve={},Rt=[],Lt=(n,e,t)=>`${n}/${e}/${t}/${Hr}`,ka=async(n,e,t,r,o)=>{const i=await Kn(n,e.secretAccessKey,e.accessKeyId),a=`${t}:${r}:${o}:${D(i)}:${e.sessionToken}`;if(a in Ve)return Ve[a];for(Rt.push(a);Rt.length>Ra;)delete Ve[Rt.shift()];let c=`AWS4${e.secretAccessKey}`;for(const u of[t,r,o,Hr])c=await Kn(n,c,u);return Ve[a]=c},Kn=(n,e,t)=>{const r=new n(e);return r.update(_e(t)),r.digest()},Yn=({headers:n},e,t)=>{const r={};for(const o of Object.keys(n).sort()){if(n[o]==null)continue;const i=o.toLowerCase();(i in Oa||e!=null&&e.has(i)||Ia.test(i)||Pa.test(i))&&(!t||t&&!t.has(i))||(r[i]=n[o].trim().replace(/\s+/g," "))}return r},Fa=({query:n={}})=>{const e=[],t={};for(const r of Object.keys(n).sort()){if(r.toLowerCase()===Ca)continue;e.push(r);const o=n[r];typeof o=="string"?t[r]=`${G(r)}=${G(o)}`:Array.isArray(o)&&(t[r]=o.slice(0).sort().reduce((i,a)=>i.concat([`${G(r)}=${G(a)}`]),[]).join("&"))}return e.map(r=>t[r]).filter(r=>r).join("&")},Na=n=>typeof ArrayBuffer=="function"&&n instanceof ArrayBuffer||Object.prototype.toString.call(n)==="[object ArrayBuffer]",kt=async({headers:n,body:e},t)=>{for(const r of Object.keys(n))if(r.toLowerCase()===Jt)return n[r];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||Na(e)){const r=new t;return r.update(_e(e)),D(await r.digest())}return Da},Ua=(n,e)=>{n=n.toLowerCase();for(const t of Object.keys(e))if(n===t.toLowerCase())return!0;return!1},$r=({headers:n,query:e,...t})=>({...t,headers:{...n},query:e?Ma(e):void 0}),Ma=n=>Object.keys(n).reduce((e,t)=>{const r=n[t];return{...e,[t]:Array.isArray(r)?[...r]:r}},{}),ja=(n,e={})=>{var o;const{headers:t,query:r={}}=typeof n.clone=="function"?n.clone():$r(n);for(const i of Object.keys(t)){const a=i.toLowerCase();a.slice(0,6)==="x-amz-"&&!((o=e.unhoistableHeaders)!=null&&o.has(a))&&(r[i]=t[i],delete t[i])}return{...n,headers:t,query:r}},Jn=n=>{n=typeof n.clone=="function"?n.clone():$r(n);for(const e of Object.keys(n.headers))Sa.indexOf(e.toLowerCase())>-1&&delete n.headers[e];return n},Ha=n=>$a(n).toISOString().replace(/\.\d{3}Z$/,"Z"),$a=n=>typeof n=="number"?new Date(n*1e3):typeof n=="string"?Number(n)?new Date(Number(n)*1e3):new Date(n):n;class qa{constructor({applyChecksum:e,credentials:t,region:r,service:o,sha256:i,uriEscapePath:a=!0}){this.headerMarshaller=new ua(ba,kr),this.service=o,this.sha256=i,this.uriEscapePath=a,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=Xn(r),this.credentialProvider=Xn(t)}async presign(e,t={}){const{signingDate:r=new Date,expiresIn:o=3600,unsignableHeaders:i,unhoistableHeaders:a,signableHeaders:c,signingRegion:u,signingService:s}=t,f=await this.credentialProvider();this.validateResolvedCredentials(f);const v=u??await this.regionProvider(),{longDate:l,shortDate:p}=ze(r);if(o>La)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const d=Lt(p,v,s??this.service),h=ja(Jn(e),{unhoistableHeaders:a});f.sessionToken&&(h.query[Ur]=f.sessionToken),h.query[wa]=Dt,h.query[_a]=`${f.accessKeyId}/${d}`,h.query[Fr]=l,h.query[xa]=o.toString(10);const g=Yn(h,i,c);return h.query[Ea]=Zn(g),h.query[Nr]=await this.getSignature(l,d,this.getSigningKey(f,v,p,s),this.createCanonicalRequest(h,g,await kt(e,this.sha256))),h}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:o,signingRegion:i,signingService:a}){const c=i??await this.regionProvider(),{shortDate:u,longDate:s}=ze(r),f=Lt(u,c,a??this.service),v=await kt({headers:{},body:t},this.sha256),l=new this.sha256;l.update(e);const p=D(await l.digest()),d=[Ba,s,f,o,p,v].join(`
`);return this.signString(d,{signingDate:r,signingRegion:c,signingService:a})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:o}){return this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:o,priorSignature:e.priorSignature}).then(a=>({message:e.message,signature:a}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:o}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const a=r??await this.regionProvider(),{shortDate:c}=ze(t),u=new this.sha256(await this.getSigningKey(i,a,c,o));return u.update(_e(e)),D(await u.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:o,signingRegion:i,signingService:a}={}){const c=await this.credentialProvider();this.validateResolvedCredentials(c);const u=i??await this.regionProvider(),s=Jn(e),{longDate:f,shortDate:v}=ze(t),l=Lt(v,u,a??this.service);s.headers[jr]=f,c.sessionToken&&(s.headers[Aa]=c.sessionToken);const p=await kt(s,this.sha256);!Ua(Jt,s.headers)&&this.applyChecksum&&(s.headers[Jt]=p);const d=Yn(s,o,r),h=await this.getSignature(f,l,this.getSigningKey(c,u,v,a),this.createCanonicalRequest(s,d,p));return s.headers[Mr]=`${Dt} Credential=${c.accessKeyId}/${l}, SignedHeaders=${Zn(d)}, Signature=${h}`,s}createCanonicalRequest(e,t,r){const o=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Fa(e)}
${o.map(i=>`${i}:${t[i]}`).join(`
`)}

${o.join(";")}
${r}`}async createStringToSign(e,t,r){const o=new this.sha256;o.update(_e(r));const i=await o.digest();return`${Dt}
${e}
${t}
${D(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const t=[];for(const i of e.split("/"))(i==null?void 0:i.length)!==0&&i!=="."&&(i===".."?t.pop():t.push(i));const r=`${e!=null&&e.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&(e!=null&&e.endsWith("/"))?"/":""}`;return encodeURIComponent(r).replace(/%2F/g,"/")}return e}async getSignature(e,t,r,o){const i=await this.createStringToSign(e,t,o),a=new this.sha256(await r);return a.update(_e(i)),D(await a.digest())}getSigningKey(e,t,r,o){return ka(this.sha256,e,r,t,o||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const ze=n=>{const e=Ha(n).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},Zn=n=>Object.keys(n).sort().join(";");var cn={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Zt=function(n,e){return Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])},Zt(n,e)};function Ga(n,e){Zt(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Qt=function(){return Qt=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qt.apply(this,arguments)};function Va(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function za(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(a=n[c])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function Wa(n,e){return function(t,r){e(t,r,n)}}function Xa(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function Ka(n,e,t,r){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function c(f){try{s(r.next(f))}catch(v){a(v)}}function u(f){try{s(r.throw(f))}catch(v){a(v)}}function s(f){f.done?i(f.value):o(f.value).then(c,u)}s((r=r.apply(n,e||[])).next())})}function Ya(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(f){return u([s,f])}}function u(s){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,o=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){t.label=s[1];break}if(s[0]===6&&t.label<i[1]){t.label=i[1],i=s;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(s);break}i[2]&&t.ops.pop(),t.trys.pop();continue}s=e.call(n,t)}catch(f){s=[6,f],o=0}finally{r=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function Ja(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}function Za(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function en(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qr(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(c){a={error:c}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i}function Qa(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(qr(arguments[e]));return n}function es(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),o=0,e=0;e<t;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r}function Se(n){return this instanceof Se?(this.v=n,this):new Se(n)}function ts(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(l){r[l]&&(o[l]=function(p){return new Promise(function(d,h){i.push([l,p,d,h])>1||c(l,p)})})}function c(l,p){try{u(r[l](p))}catch(d){v(i[0][3],d)}}function u(l){l.value instanceof Se?Promise.resolve(l.value.v).then(s,f):v(i[0][2],l)}function s(l){c("next",l)}function f(l){c("throw",l)}function v(l,p){l(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function ns(n){var e,t;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,i){e[o]=n[o]?function(a){return(t=!t)?{value:Se(n[o](a)),done:o==="return"}:i?i(a):a}:i}}function rs(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof en=="function"?en(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(a){return new Promise(function(c,u){a=n[i](a),o(c,u,a.done,a.value)})}}function o(i,a,c,u){Promise.resolve(u).then(function(s){i({value:s,done:c})},a)}}function is(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function os(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function as(n){return n&&n.__esModule?n:{default:n}}function ss(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function cs(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}const us=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Qt},__asyncDelegator:ns,__asyncGenerator:ts,__asyncValues:rs,__await:Se,__awaiter:Ka,__classPrivateFieldGet:ss,__classPrivateFieldSet:cs,__createBinding:Ja,__decorate:za,__exportStar:Za,__extends:Ga,__generator:Ya,__importDefault:as,__importStar:os,__makeTemplateObject:is,__metadata:Xa,__param:Wa,__read:qr,__rest:Va,__spread:Qa,__spreadArrays:es,__values:en},Symbol.toStringTag,{value:"Module"})),Gr=rn(us);var le={},B={},Qn;function Vr(){return Qn||(Qn=1,Object.defineProperty(B,"__esModule",{value:!0}),B.MAX_HASHABLE_LENGTH=B.INIT=B.KEY=B.DIGEST_LENGTH=B.BLOCK_SIZE=void 0,B.BLOCK_SIZE=64,B.DIGEST_LENGTH=32,B.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),B.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],B.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1),B}var de={},er;function fs(){if(er)return de;er=1,Object.defineProperty(de,"__esModule",{value:!0}),de.RawSha256=void 0;var n=Vr(),e=function(){function t(){this.state=Int32Array.from(n.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(r){if(this.finished)throw new Error("Attempted to update an already finished hash.");var o=0,i=r.byteLength;if(this.bytesHashed+=i,this.bytesHashed*8>n.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;i>0;)this.buffer[this.bufferLength++]=r[o++],i--,this.bufferLength===n.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var r=this.bytesHashed*8,o=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),i=this.bufferLength;if(o.setUint8(this.bufferLength++,128),i%n.BLOCK_SIZE>=n.BLOCK_SIZE-8){for(var a=this.bufferLength;a<n.BLOCK_SIZE;a++)o.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(var a=this.bufferLength;a<n.BLOCK_SIZE-8;a++)o.setUint8(a,0);o.setUint32(n.BLOCK_SIZE-8,Math.floor(r/4294967296),!0),o.setUint32(n.BLOCK_SIZE-4,r),this.hashBuffer(),this.finished=!0}for(var c=new Uint8Array(n.DIGEST_LENGTH),a=0;a<8;a++)c[a*4]=this.state[a]>>>24&255,c[a*4+1]=this.state[a]>>>16&255,c[a*4+2]=this.state[a]>>>8&255,c[a*4+3]=this.state[a]>>>0&255;return c},t.prototype.hashBuffer=function(){for(var r=this,o=r.buffer,i=r.state,a=i[0],c=i[1],u=i[2],s=i[3],f=i[4],v=i[5],l=i[6],p=i[7],d=0;d<n.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(o[d*4]&255)<<24|(o[d*4+1]&255)<<16|(o[d*4+2]&255)<<8|o[d*4+3]&255;else{var h=this.temp[d-2],g=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10;h=this.temp[d-15];var C=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[d]=(g+this.temp[d-7]|0)+(C+this.temp[d-16]|0)}var S=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&v^~f&l)|0)+(p+(n.KEY[d]+this.temp[d]|0)|0)|0,b=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&c^a&u^c&u)|0;p=l,l=v,v=f,f=s+S|0,s=u,u=c,c=a,a=S+b|0}i[0]+=a,i[1]+=c,i[2]+=u,i[3]+=s,i[4]+=f,i[5]+=v,i[6]+=l,i[7]+=p},t}();return de.RawSha256=e,de}var Ft={},he={},tr;function ls(){if(tr)return he;tr=1,Object.defineProperty(he,"__esModule",{value:!0}),he.convertToBuffer=void 0;var n=Rr,e=typeof Buffer<"u"&&Buffer.from?function(r){return Buffer.from(r,"utf8")}:n.fromUtf8;function t(r){return r instanceof Uint8Array?r:typeof r=="string"?e(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)}return he.convertToBuffer=t,he}var pe={},nr;function ds(){if(nr)return pe;nr=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.isEmptyData=void 0;function n(e){return typeof e=="string"?e.length===0:e.byteLength===0}return pe.isEmptyData=n,pe}var ve={},rr;function hs(){if(rr)return ve;rr=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.numToUint8=void 0;function n(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}return ve.numToUint8=n,ve}var ge={},ir;function ps(){if(ir)return ge;ir=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.uint32ArrayFrom=void 0;function n(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}return ge.uint32ArrayFrom=n,ge}var or;function vs(){return or||(or=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.uint32ArrayFrom=n.numToUint8=n.isEmptyData=n.convertToBuffer=void 0;var e=ls();Object.defineProperty(n,"convertToBuffer",{enumerable:!0,get:function(){return e.convertToBuffer}});var t=ds();Object.defineProperty(n,"isEmptyData",{enumerable:!0,get:function(){return t.isEmptyData}});var r=hs();Object.defineProperty(n,"numToUint8",{enumerable:!0,get:function(){return r.numToUint8}});var o=ps();Object.defineProperty(n,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})}(Ft)),Ft}var ar;function gs(){if(ar)return le;ar=1,Object.defineProperty(le,"__esModule",{value:!0}),le.Sha256=void 0;var n=Gr,e=Vr(),t=fs(),r=vs(),o=function(){function a(c){if(this.hash=new t.RawSha256,c){this.outer=new t.RawSha256;var u=i(c),s=new Uint8Array(e.BLOCK_SIZE);s.set(u);for(var f=0;f<e.BLOCK_SIZE;f++)u[f]^=54,s[f]^=92;this.hash.update(u),this.outer.update(s);for(var f=0;f<u.byteLength;f++)u[f]=0}}return a.prototype.update=function(c){if(!((0,r.isEmptyData)(c)||this.error))try{this.hash.update((0,r.convertToBuffer)(c))}catch(u){this.error=u}},a.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},a.prototype.digest=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(c){return[2,this.digestSync()]})})},a}();le.Sha256=o;function i(a){var c=(0,r.convertToBuffer)(a);if(c.byteLength>e.BLOCK_SIZE){var u=new t.RawSha256;u.update(c),c=u.digest()}var s=new Uint8Array(e.BLOCK_SIZE);return s.set(c),s}return le}(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=Gr;e.__exportStar(gs(),n)})(cn);var J=globalThis&&globalThis.__assign||function(){return J=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},J.apply(this,arguments)},Ye=globalThis&&globalThis.__awaiter||function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function c(f){try{s(r.next(f))}catch(v){a(v)}}function u(f){try{s(r.throw(f))}catch(v){a(v)}}function s(f){f.done?i(f.value):o(f.value).then(c,u)}s((r=r.apply(n,e||[])).next())})},Je=globalThis&&globalThis.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(f){return u([s,f])}}function u(s){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,o=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){t.label=s[1];break}if(s[0]===6&&t.label<i[1]){t.label=i[1],i=s;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(s);break}i[2]&&t.ops.pop(),t.trys.pop();continue}s=e.call(n,t)}catch(f){s=[6,f],o=0}finally{r=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},ms="rum",ys="POST",bs="application/json",ws="text/plain;charset=UTF-8",_s={expiresIn:60},Es=function(){function n(e){var t=this;this.sendFetch=function(r){return Ye(t,void 0,void 0,function(){var o,i,a;return Je(this,function(c){switch(c.label){case 0:return[4,this.getHttpRequestOptions(r,bs)];case 1:return o=c.sent(),i=new re(o),this.awsSigV4?[4,this.awsSigV4.sign(i)]:[3,3];case 2:i=c.sent(),c.label=3;case 3:return a=this.config.fetchRequestHandler.handle(i),[2,a]}})})},this.sendBeacon=function(r){return Ye(t,void 0,void 0,function(){var o,i,a;return Je(this,function(c){switch(c.label){case 0:return[4,this.getHttpRequestOptions(r,ws)];case 1:return o=c.sent(),i=new re(o),this.awsSigV4?[4,this.awsSigV4.presign(i,_s)]:[3,3];case 2:i=c.sent(),c.label=3;case 3:return a=this.config.beaconRequestHandler.handle(i),[2,a]}})})},this.getHttpRequestOptions=function(r,o){return Ye(t,void 0,void 0,function(){var i,a,c,u,s,f,v,l;return Je(this,function(p){switch(p.label){case 0:return i=JSON.stringify(xs(r)),a=this.config.endpoint.pathname.replace(/\/$/,""),c={method:ys,protocol:this.config.endpoint.protocol,headers:{"content-type":o,host:this.config.endpoint.host},hostname:this.config.endpoint.hostname,path:"".concat(a,"/appmonitors/").concat(r.AppMonitorDetails.id),body:i},this.awsSigV4?(u=[J({},c)],v={},s=[J({},c.headers)],l={},f="X-Amz-Content-Sha256",[4,Ss(i)]):[3,2];case 1:return[2,J.apply(void 0,u.concat([(v.headers=J.apply(void 0,s.concat([(l[f]=p.sent(),l)])),v)]))];case 2:return[2,c]}})})},this.config=e,e.credentials&&(this.awsSigV4=new qa({applyChecksum:!0,credentials:e.credentials,region:e.region,service:ms,uriEscapePath:!0,sha256:cn.Sha256}))}return n}(),xs=function(n){var e=[];n.RumEvents.forEach(function(r){return e.push(Ts(r))});var t={BatchId:n.BatchId,AppMonitorDetails:n.AppMonitorDetails,UserDetails:n.UserDetails,RumEvents:e};return t},Ts=function(n){return{id:n.id,timestamp:Math.round(n.timestamp.getTime()/1e3),type:n.type,metadata:n.metadata,details:n.details}},Ss=function(n){return Ye(void 0,void 0,void 0,function(){var e,t;return Je(this,function(r){switch(r.label){case 0:return e=new cn.Sha256,e.update(n),t=D,[4,e.digest()];case 1:return[2,t.apply(void 0,[r.sent()]).toLowerCase()]}})})},Cs=function(){function n(){}return n.prototype.handle=function(e){var t=this.sendBeacon(e);return new Promise(function(r,o){t?r({response:new xe({statusCode:200})}):o()})},n.prototype.sendBeacon=function(e){var t=e.path;if(e.query){var r=on(e.query);r&&(t+="?".concat(r))}var o=e.port,i="".concat(e.protocol,"//").concat(e.hostname).concat(o?":".concat(o):"").concat(t);return navigator.sendBeacon(i,e.body)},n}(),As=function(n){return n===void 0&&(n=0),new Promise(function(e,t){n&&setTimeout(function(){var r=new Error("Request did not complete within ".concat(n," ms"));r.name="TimeoutError",t(r)},n)})},Os=function(){function n(e){var t=e===void 0?{}:e,r=t.fetchFunction,o=t.requestTimeout;this.requestTimeout=o,this.fetchFunction=r}return n.prototype.destroy=function(){},n.prototype.handle=function(e,t){var r=t===void 0?{}:t,o=r.abortSignal,i=this.requestTimeout;if(o!=null&&o.aborted){var a=new Error("Request aborted");return a.name="AbortError",Promise.reject(a)}var c=e.path;if(e.query){var u=on(e.query);u&&(c+="?".concat(u))}var s=e.port,f=e.method,v="".concat(e.protocol,"//").concat(e.hostname).concat(s?":".concat(s):"").concat(c),l=f==="GET"||f==="HEAD"?void 0:e.body,p={body:l,headers:new Headers(e.headers),method:f};typeof AbortController<"u"&&(p.signal=o);var d=new Request(v,p),h=[this.fetchFunction.apply(window,[d]).then(function(g){for(var C=g.headers,S={},b=0,w=C.entries();b<w.length;b++){var O=w[b];S[O[0]]=O[1]}var N=g.body!==void 0;return N?{response:new xe({headers:S,statusCode:g.status,body:g.body})}:g.blob().then(function(oe){return{response:new xe({headers:S,statusCode:g.status,body:oe})}})}),As(i)];return o&&h.push(new Promise(function(g,C){o.onabort=function(){var S=new Error("Request aborted");S.name="AbortError",C(S)}})),Promise.race(h)},n}(),sr=globalThis&&globalThis.__awaiter||function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function c(f){try{s(r.next(f))}catch(v){a(v)}}function u(f){try{s(r.throw(f))}catch(v){a(v)}}function s(f){f.done?i(f.value):o(f.value).then(c,u)}s((r=r.apply(n,e||[])).next())})},cr=globalThis&&globalThis.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(f){return u([s,f])}}function u(s){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,o=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){t.label=s[1];break}if(s[0]===6&&t.label<i[1]){t.label=i[1],i=s;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(s);break}i[2]&&t.ops.pop(),t.trys.pop();continue}s=e.call(n,t)}catch(f){s=[6,f],o=0}finally{r=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},Is=function(){function n(e,t,r){r===void 0&&(r=function(o){return o*2e3}),this.isStatusCode2xx=function(o){return o>=200&&o<300},this.handler=e,this.retries=t,this.backoff=r}return n.prototype.handle=function(e){return sr(this,void 0,void 0,function(){var t,r,o;return cr(this,function(i){switch(i.label){case 0:t=this.retries,i.label=1;case 1:i.label=2;case 2:return i.trys.push([2,4,,6]),[4,this.handler.handle(e)];case 3:if(r=i.sent(),this.isStatusCode2xx(r.response.statusCode))return[2,r];throw new Error("".concat(r.response.statusCode));case 4:if(o=i.sent(),!t)throw o;return t--,[4,this.sleep(this.backoff(this.retries-t))];case 5:return i.sent(),[3,6];case 6:return[3,1];case 7:return[2]}})})},n.prototype.sleep=function(e){return sr(this,void 0,void 0,function(){return cr(this,function(t){return[2,new Promise(function(r){return setTimeout(r,e)})]})})},n}(),We=globalThis&&globalThis.__awaiter||function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function c(f){try{s(r.next(f))}catch(v){a(v)}}function u(f){try{s(r.throw(f))}catch(v){a(v)}}function s(f){f.done?i(f.value):o(f.value).then(c,u)}s((r=r.apply(n,e||[])).next())})},Xe=globalThis&&globalThis.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(f){return u([s,f])}}function u(s){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,o=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){t.label=s[1];break}if(s[0]===6&&t.label<i[1]){t.label=i[1],i=s;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(s);break}i[2]&&t.ops.pop(),t.trys.pop();continue}s=e.call(n,t)}catch(f){s=[6,f],o=0}finally{r=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},ur="CWR: Cannot dispatch; no AWS credentials.",Ps=function(){function n(e,t,r,o){var i=this;this.dispatchFetch=function(){return We(i,void 0,void 0,function(){return Xe(this,function(a){return this.doRequest()?[2,this.rum.sendFetch(this.createRequest()).catch(this.handleReject)]:[2]})})},this.dispatchBeacon=function(){return We(i,void 0,void 0,function(){var a,c=this;return Xe(this,function(u){return this.doRequest()?(a=this.createRequest(),[2,this.rum.sendBeacon(a).catch(function(){return c.rum.sendFetch(a)})]):[2]})})},this.dispatchFetchFailSilent=function(){return We(i,void 0,void 0,function(){return Xe(this,function(a){return[2,this.dispatchFetch().catch(function(){})]})})},this.dispatchBeaconFailSilent=function(){return We(i,void 0,void 0,function(){return Xe(this,function(a){return[2,this.dispatchBeacon().catch(function(){})]})})},this.handleReject=function(a){throw i.disable(),a},this.defaultClientBuilder=function(a,c,u){return new Es({fetchRequestHandler:new Is(new Os({fetchFunction:i.config.fetchFunction}),i.config.retries),beaconRequestHandler:new Cs,endpoint:a,region:c,credentials:u})},this.region=e,this.endpoint=t,this.eventCache=r,this.enabled=!0,this.buildClient=o.clientBuilder||this.defaultClientBuilder,this.config=o,this.startDispatchTimer(),o.signing?this.rum={sendFetch:function(){return Promise.reject(new Error(ur))},sendBeacon:function(){return Promise.reject(new Error(ur))}}:this.rum=this.buildClient(this.endpoint,this.region,void 0)}return n.prototype.enable=function(){this.enabled=!0,this.startDispatchTimer()},n.prototype.disable=function(){this.stopDispatchTimer(),this.enabled=!1},n.prototype.setAwsCredentials=function(e){this.rum=this.buildClient(this.endpoint,this.region,e),typeof e=="function"&&e()},n.prototype.startDispatchTimer=function(){document.addEventListener("visibilitychange",this.config.useBeacon?this.dispatchBeaconFailSilent:this.dispatchFetchFailSilent),document.addEventListener("pagehide",this.config.useBeacon?this.dispatchBeaconFailSilent:this.dispatchFetchFailSilent),!(this.config.dispatchInterval<=0||this.dispatchTimerId)&&(this.dispatchTimerId=window.setInterval(this.dispatchFetchFailSilent,this.config.dispatchInterval))},n.prototype.stopDispatchTimer=function(){document.removeEventListener("visibilitychange",this.config.useBeacon?this.dispatchBeaconFailSilent:this.dispatchFetchFailSilent),document.removeEventListener("pagehide",this.config.useBeacon?this.dispatchBeaconFailSilent:this.dispatchFetchFailSilent),this.dispatchTimerId&&(window.clearInterval(this.dispatchTimerId),this.dispatchTimerId=void 0)},n.prototype.doRequest=function(){return this.enabled&&this.eventCache.hasEvents()},n.prototype.createRequest=function(){return{BatchId:ye(),AppMonitorDetails:this.eventCache.getAppMonitorDetails(),UserDetails:this.eventCache.getUserDetails(),RumEvents:this.eventCache.getEventBatch()}},n}(),P;(function(n){n.OTHER="other",n.STYLESHEET="stylesheet",n.DOCUMENT="document",n.SCRIPT="script",n.IMAGE="image",n.FONT="font"})(P||(P={}));var Bs=[{name:P.STYLESHEET,list:["css","less"]},{name:P.DOCUMENT,list:["htm","html","ts","doc","docx","pdf","xls","xlsx"]},{name:P.SCRIPT,list:["js"]},{name:P.IMAGE,list:["ai","bmp","gif","ico","jpeg","jpg","png","ps","psd","svg","tif","tiff"]},{name:P.FONT,list:["fnt","fon","otf","ttf","woff"]}],fr=function(n){for(var e=n.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1)),r=n[e];n[e]=n[t],n[t]=r}},Nt=function(n){var e=n.substring(n.lastIndexOf("/")+1),t=e.substring(e.lastIndexOf(".")+1).split(/[?#]/)[0],r=P.OTHER;return Bs.forEach(function(o){o.list.indexOf(t)>-1&&(r=o.name)}),r},Ds=function(n){return n.entryType==="resource"&&!/^https?:/.test(n.name)},zr={eventLimit:10,ignore:Ds,recordAllTypes:[P.DOCUMENT,P.SCRIPT],sampleTypes:[P.STYLESHEET,P.IMAGE,P.FONT,P.OTHER]},Rs=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),at=globalThis&&globalThis.__assign||function(){return at=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},at.apply(this,arguments)},Ls="navigation",K="navigation",Ut="load",ks=function(n){Rs(e,n);function e(t){var r=n.call(this,Ls)||this;return r.eventListener=function(){if(performance.getEntriesByType(K).length===0)r.performanceNavigationEventHandlerTimingLevel1();else{var o=new PerformanceObserver(function(i){i.getEntries().filter(function(a){return a.entryType===K}).filter(function(a){return!r.config.ignore(a)}).forEach(function(a){r.performanceNavigationEventHandlerTimingLevel2(a)})});o.observe({entryTypes:[K]})}},r.performanceNavigationEventHandlerTimingLevel1=function(){var o=function(){var i,a=performance.timing,c=a.navigationStart,u={version:"1.0.0",initiatorType:"navigation",startTime:0,unloadEventStart:a.unloadEventStart>0?a.unloadEventStart-c:0,promptForUnload:a.unloadEventEnd-a.unloadEventStart,redirectStart:a.redirectStart>0?a.redirectStart-c:0,redirectTime:a.redirectEnd-a.redirectStart,fetchStart:a.fetchStart>0?a.fetchStart-c:0,domainLookupStart:a.domainLookupStart>0?a.domainLookupStart-c:0,dns:a.domainLookupEnd-a.domainLookupStart,connectStart:a.connectStart>0?a.connectStart-c:0,connect:a.connectEnd-a.connectStart,secureConnectionStart:a.secureConnectionStart>0?a.secureConnectionStart-c:0,tlsTime:a.secureConnectionStart>0?a.connectEnd-a.secureConnectionStart:0,requestStart:a.requestStart>0?a.requestStart-c:0,timeToFirstByte:a.responseStart-a.requestStart,responseStart:a.responseStart>0?a.responseStart-c:0,responseTime:a.responseStart>0?a.responseEnd-a.responseStart:0,domInteractive:a.domInteractive>0?a.domInteractive-c:0,domContentLoadedEventStart:a.domContentLoadedEventStart>0?a.domContentLoadedEventStart-c:0,domContentLoaded:a.domContentLoadedEventEnd-a.domContentLoadedEventStart,domComplete:a.domComplete>0?a.domComplete-c:0,domProcessingTime:a.loadEventStart-a.responseEnd,loadEventStart:a.loadEventStart>0?a.loadEventStart-c:0,loadEventTime:a.loadEventEnd-a.loadEventStart,duration:a.loadEventEnd-a.navigationStart,navigationTimingLevel:1};!((i=r.context)===null||i===void 0)&&i.record&&r.context.record(Gt,u)};setTimeout(o,0)},r.performanceNavigationEventHandlerTimingLevel2=function(o){var i,a={version:"1.0.0",initiatorType:o.initiatorType,navigationType:o.type,startTime:o.startTime,unloadEventStart:o.unloadEventStart,promptForUnload:o.unloadEventEnd-o.unloadEventStart,redirectCount:o.redirectCount,redirectStart:o.redirectStart,redirectTime:o.redirectEnd-o.redirectStart,workerStart:o.workerStart,workerTime:o.workerStart>0?o.fetchStart-o.workerStart:0,fetchStart:o.fetchStart,domainLookupStart:o.domainLookupStart,dns:o.domainLookupEnd-o.domainLookupStart,nextHopProtocol:o.nextHopProtocol,connectStart:o.connectStart,connect:o.connectEnd-o.connectStart,secureConnectionStart:o.secureConnectionStart,tlsTime:o.secureConnectionStart>0?o.connectEnd-o.secureConnectionStart:0,requestStart:o.requestStart,timeToFirstByte:o.responseStart-o.requestStart,responseStart:o.responseStart,responseTime:o.responseStart>0?o.responseEnd-o.responseStart:0,domInteractive:o.domInteractive,domContentLoadedEventStart:o.domContentLoadedEventStart,domContentLoaded:o.domContentLoadedEventEnd-o.domContentLoadedEventStart,domComplete:o.domComplete,domProcessingTime:o.loadEventStart-o.responseEnd,loadEventStart:o.loadEventStart,loadEventTime:o.loadEventEnd-o.loadEventStart,duration:o.duration,headerSize:o.transferSize-o.encodedBodySize,transferSize:o.transferSize,compressionRatio:o.encodedBodySize>0?o.decodedBodySize/o.encodedBodySize:0,navigationTimingLevel:2};!((i=r.context)===null||i===void 0)&&i.record&&r.context.record(Gt,a)},r.config=at(at({},zr),t),r}return e.prototype.enable=function(){this.enabled||(this.enabled=!0,window.addEventListener(Ut,this.eventListener))},e.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.eventListener&&window.removeEventListener(Ut,this.eventListener))},e.prototype.hasTheWindowLoadEventFired=function(){if(window.performance&&window.performance.getEntriesByType(K).length){var t=window.performance.getEntriesByType(K)[0];return!!t.loadEventEnd}return!1},e.prototype.onload=function(){var t=this;this.enabled&&(this.hasTheWindowLoadEventFired()?window.performance.getEntriesByType(K).filter(function(r){return!t.config.ignore(r)}).forEach(function(r){return t.performanceNavigationEventHandlerTimingLevel2(r)}):window.addEventListener(Ut,this.eventListener))},e}(z),Fs=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),st=globalThis&&globalThis.__assign||function(){return st=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},st.apply(this,arguments)},Ns="resource",Mt="resource",jt="load",Us=function(n){Fs(e,n);function e(t){var r=n.call(this,Ns)||this;return r.resourceEventListener=function(o){var i=[],a=[],c=0,u=new PerformanceObserver(function(f){f.getEntries().filter(function(v){return v.entryType===Mt}).filter(function(v){return!r.config.ignore(v)}).forEach(function(v){var l=Nt(v.name);r.config.recordAllTypes.includes(l)?i.push(v):r.config.sampleTypes.includes(l)&&a.push(v)})});u.observe({entryTypes:[Mt]});var s=performance.getEntriesByType(Mt);for(s!==void 0&&s.length>0&&s.filter(function(f){return!r.config.ignore(f)}).forEach(function(f){var v=Nt(f.name);r.config.recordAllTypes.includes(v)?i.push(f):r.config.sampleTypes.includes(v)&&a.push(f)}),fr(i);i.length>0&&c<r.config.eventLimit;)r.recordResourceEvent(i.pop()),c++;for(fr(a);a.length>0&&c<r.config.eventLimit;)r.recordResourceEvent(a.pop()),c++},r.recordResourceEvent=function(o){var i,a=/.*\/application\/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\/events/,c=new URL(o.name);if(!(c.host===r.context.config.endpointUrl.host&&a.test(c.pathname))&&!((i=r.context)===null||i===void 0)&&i.record){var u={version:"1.0.0",initiatorType:o.initiatorType,duration:o.duration,fileType:Nt(o.name),transferSize:o.transferSize};r.context.config.recordResourceUrl&&(u.targetUrl=o.name),r.context.record(Wi,u)}},r.config=st(st({},zr),t),r}return e.prototype.enable=function(){this.enabled||(this.enabled=!0,window.addEventListener(jt,this.resourceEventListener))},e.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.resourceEventListener&&window.removeEventListener(jt,this.resourceEventListener))},e.prototype.onload=function(){window.addEventListener(jt,this.resourceEventListener)},e}(z),j,Ee,Wr,ct,Xr=-1,Oe=function(n){addEventListener("pageshow",function(e){e.persisted&&(Xr=e.timeStamp,n(e))},!0)},Kr=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},un=function(){var n=Kr();return n&&n.activationStart||0},H=function(n,e){var t=Kr(),r="navigate";return Xr>=0?r="back-forward-cache":t&&(document.prerendering||un()>0?r="prerender":document.wasDiscarded?r="restore":t.type&&(r=t.type.replace(/_/g,"-"))),{name:n,value:e===void 0?-1:e,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},yt=function(n,e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){var r=new PerformanceObserver(function(o){Promise.resolve().then(function(){e(o.getEntries())})});return r.observe(Object.assign({type:n,buffered:!0},t||{})),r}}catch{}},$=function(n,e,t,r){var o,i;return function(a){e.value>=0&&(a||r)&&((i=e.value-(o||0))||o===void 0)&&(o=e.value,e.delta=i,e.rating=function(c,u){return c>u[1]?"poor":c>u[0]?"needs-improvement":"good"}(e.value,t),n(e))}},fn=function(n){requestAnimationFrame(function(){return requestAnimationFrame(function(){return n()})})},ln=function(n){var e=function(t){t.type!=="pagehide"&&document.visibilityState!=="hidden"||n(t)};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)},dn=function(n){var e=!1;return function(t){e||(n(t),e=!0)}},Z=-1,lr=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},ut=function(n){document.visibilityState==="hidden"&&Z>-1&&(Z=n.type==="visibilitychange"?n.timeStamp:0,Ms())},dr=function(){addEventListener("visibilitychange",ut,!0),addEventListener("prerenderingchange",ut,!0)},Ms=function(){removeEventListener("visibilitychange",ut,!0),removeEventListener("prerenderingchange",ut,!0)},hn=function(){return Z<0&&(Z=lr(),dr(),Oe(function(){setTimeout(function(){Z=lr(),dr()},0)})),{get firstHiddenTime(){return Z}}},pn=function(n){document.prerendering?addEventListener("prerenderingchange",function(){return n()},!0):n()},hr=[1800,3e3],js=function(n,e){e=e||{},pn(function(){var t,r=hn(),o=H("FCP"),i=yt("paint",function(a){a.forEach(function(c){c.name==="first-contentful-paint"&&(i.disconnect(),c.startTime<r.firstHiddenTime&&(o.value=Math.max(c.startTime-un(),0),o.entries.push(c),t(!0)))})});i&&(t=$(n,o,hr,e.reportAllChanges),Oe(function(a){o=H("FCP"),t=$(n,o,hr,e.reportAllChanges),fn(function(){o.value=performance.now()-a.timeStamp,t(!0)})}))})},pr=[.1,.25],Hs=function(n,e){e=e||{},js(dn(function(){var t,r=H("CLS",0),o=0,i=[],a=function(u){u.forEach(function(s){if(!s.hadRecentInput){var f=i[0],v=i[i.length-1];o&&s.startTime-v.startTime<1e3&&s.startTime-f.startTime<5e3?(o+=s.value,i.push(s)):(o=s.value,i=[s])}}),o>r.value&&(r.value=o,r.entries=i,t())},c=yt("layout-shift",a);c&&(t=$(n,r,pr,e.reportAllChanges),ln(function(){a(c.takeRecords()),t(!0)}),Oe(function(){o=0,r=H("CLS",0),t=$(n,r,pr,e.reportAllChanges),fn(function(){return t()})}),setTimeout(t,0))}))},me={passive:!0,capture:!0},$s=new Date,vr=function(n,e){j||(j=e,Ee=n,Wr=new Date,Jr(removeEventListener),Yr())},Yr=function(){if(Ee>=0&&Ee<Wr-$s){var n={entryType:"first-input",name:j.type,target:j.target,cancelable:j.cancelable,startTime:j.timeStamp,processingStart:j.timeStamp+Ee};ct.forEach(function(e){e(n)}),ct=[]}},qs=function(n){if(n.cancelable){var e=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;n.type=="pointerdown"?function(t,r){var o=function(){vr(t,r),a()},i=function(){a()},a=function(){removeEventListener("pointerup",o,me),removeEventListener("pointercancel",i,me)};addEventListener("pointerup",o,me),addEventListener("pointercancel",i,me)}(e,n):vr(e,n)}},Jr=function(n){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return n(e,qs,me)})},gr=[100,300],Gs=function(n,e){e=e||{},pn(function(){var t,r=hn(),o=H("FID"),i=function(u){u.startTime<r.firstHiddenTime&&(o.value=u.processingStart-u.startTime,o.entries.push(u),t(!0))},a=function(u){u.forEach(i)},c=yt("first-input",a);t=$(n,o,gr,e.reportAllChanges),c&&ln(dn(function(){a(c.takeRecords()),c.disconnect()})),c&&Oe(function(){var u;o=H("FID"),t=$(n,o,gr,e.reportAllChanges),ct=[],Ee=-1,j=null,Jr(addEventListener),u=i,ct.push(u),Yr()})})},mr=[2500,4e3],Ht={},Vs=function(n,e){e=e||{},pn(function(){var t,r=hn(),o=H("LCP"),i=function(u){var s=u[u.length-1];s&&s.startTime<r.firstHiddenTime&&(o.value=Math.max(s.startTime-un(),0),o.entries=[s],t())},a=yt("largest-contentful-paint",i);if(a){t=$(n,o,mr,e.reportAllChanges);var c=dn(function(){Ht[o.id]||(i(a.takeRecords()),a.disconnect(),Ht[o.id]=!0,t(!0))});["keydown","click"].forEach(function(u){addEventListener(u,c,!0)}),ln(c),Oe(function(u){o=H("LCP"),t=$(n,o,mr,e.reportAllChanges),fn(function(){o.value=performance.now()-u.timeStamp,Ht[o.id]=!0,t(!0)})})}})},zs=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ws="web-vitals",Xs=function(n){zs(e,n);function e(){return n.call(this,Ws)||this}return e.prototype.enable=function(){},e.prototype.disable=function(){},e.prototype.configure=function(t){},e.prototype.getWebVitalData=function(t,r){var o,i={version:"1.0.0",value:t.value};(o=this.context)===null||o===void 0||o.record(r,i)},e.prototype.onload=function(){var t=this;Vs(function(r){return t.getWebVitalData(r,Gi)}),Gs(function(r){return t.getWebVitalData(r,Vi)}),Hs(function(r){return t.getWebVitalData(r,zi)})},e}(z),Zr=function(n){if(crypto)return crypto.getRandomValues(n);if(msCrypto)return msCrypto.getRandomValues(n);throw new Error("No crypto library found.")},Qr=[];for(var Ke=0;Ke<256;Ke++)Qr[Ke]=(Ke+256).toString(16).substr(1);var vn="X-Amzn-Trace-Id",ei={logicalServiceName:"rum.aws.amazon.com",urlsToInclude:[/.*/],urlsToExclude:[/cognito\-identity\.([^\.]*\.)?amazonaws\.com/,/sts\.([^\.]*\.)?amazonaws\.com/],stackTraceLength:200,recordAllRequests:!1,addXRayTraceIdHeader:!1},ti=function(n){return Math.floor(n/100)===4},ni=function(n){return Math.floor(n/100)===5},ri=function(n){return n===429},ii=function(n,e){var t=e.urlsToInclude.some(function(o){return o.test(n)}),r=e.urlsToExclude.some(function(o){return o.test(n)});return t&&!r},Q=function(){return Date.now()/1e3},Ks=function(n,e,t){var r={request:{}};return r.request.method=e!=null&&e.method?e.method:"GET",r.request.traced=t,r.request.url=tn(n),r},oi=function(n,e,t){var r={version:"1.0.0",name:n,origin:"AWS::RUM::AppMonitor",id:ci(),start_time:e,trace_id:Zs(),end_time:void 0,subsegments:[],in_progress:!1};return t&&(r.http=t),r},ai=function(n,e,t){var r={id:ci(),name:n,start_time:e,end_time:void 0,in_progress:!1,namespace:n.endsWith("amazonaws.com")?"aws":"remote"};return t&&(r.http=t),r},si=function(n){try{return n.hostname?n.hostname:n.url?new URL(n.url).hostname:new URL(n.toString()).hostname}catch{return window.location.hostname}},Ys=function(n,e,t){n.headers||(n.headers={}),n.headers[vn]=gn(e,t)},Js=function(n,e,t){n.set(vn,gn(e,t))},gn=function(n,e){return"Root="+n+";Parent="+e+";Sampled=1"},tn=function(n){return n.url?n.url:n.toString()},Zs=function(){return"1-".concat(Qs(),"-").concat(ec())},ci=function(){var n=new Uint8Array(8);return Zr(n),ui(n)},Qs=function(){return Math.floor(Date.now()/1e3).toString(16)},ec=function(){var n=new Uint8Array(12);return Zr(n),ui(n)},ui=function(n){for(var e="",t=0;t<n.length;t++)e+=Qr[n[t]];return e},tc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nc=function(n){tc(e,n);function e(t){var r=n.call(this,t)||this;return r.name="XMLHttpRequest error",r}return e}(Error),rc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ft=globalThis&&globalThis.__assign||function(){return ft=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},ft.apply(this,arguments)},ic="xhr",oc=function(n){rc(e,n);function e(t){var r=n.call(this,ic)||this;return r.addXRayTraceIdHeader=function(){return r.config.addXRayTraceIdHeader},r.isTracingEnabled=function(){return r.context.config.enableXRay},r.isSessionRecorded=function(){var o;return((o=r.context.getSession())===null||o===void 0?void 0:o.record)||!1},r.handleXhrLoadEvent=function(o){var i=o.target,a=r.xhrMap.get(i);if(a){var c=Q();a.trace.end_time=c,a.trace.subsegments[0].end_time=c,a.trace.subsegments[0].http.response={status:i.status},ri(i.status)?(a.trace.subsegments[0].throttle=!0,a.trace.throttle=!0):ti(i.status)?(a.trace.subsegments[0].error=!0,a.trace.error=!0):ni(i.status)&&(a.trace.subsegments[0].fault=!0,a.trace.fault=!0);var u=i.getResponseHeader("Content-Length"),s=u?parseInt(u,10):NaN;isNaN(s)||(a.trace.subsegments[0].http.response.content_length=s),r.recordTraceEvent(a.trace),r.recordHttpEventWithResponse(a,i)}},r.handleXhrErrorEvent=function(o){var i=o.target,a=r.xhrMap.get(i),c="XMLHttpRequest error",u=i.statusText?i.status.toString()+": "+i.statusText:i.status.toString();if(a){var s=Q();a.trace.fault=!0,a.trace.end_time=s,a.trace.subsegments[0].end_time=s,a.trace.subsegments[0].fault=!0,a.trace.subsegments[0].cause={exceptions:[{type:c,message:u}]},r.recordTraceEvent(a.trace),r.recordHttpEventWithError(a,new nc(u))}},r.handleXhrAbortEvent=function(o){var i=o.target,a=r.xhrMap.get(i),c="XMLHttpRequest abort";r.handleXhrDetailsOnError(a,c)},r.handleXhrTimeoutEvent=function(o){var i=o.target,a=r.xhrMap.get(i),c="XMLHttpRequest timeout";r.handleXhrDetailsOnError(a,c)},r.initializeTrace=function(o){var i=Q();o.trace=oi(r.config.logicalServiceName,i),o.trace.subsegments.push(ai(si(o.url),i,{request:{method:o.method,url:o.url,traced:!0}}))},r.sendWrapper=function(){var o=r;return function(i){return function(){var a=o.xhrMap.get(this);return a&&(this.addEventListener("load",o.handleXhrLoadEvent),this.addEventListener("error",o.handleXhrErrorEvent),this.addEventListener("abort",o.handleXhrAbortEvent),this.addEventListener("timeout",o.handleXhrTimeoutEvent),o.initializeTrace(a),o.isTracingEnabled()&&o.addXRayTraceIdHeader()&&o.isSessionRecorded()&&this.setRequestHeader(vn,gn(a.trace.trace_id,a.trace.subsegments[0].id))),i.apply(this,arguments)}}},r.openWrapper=function(){var o=r;return function(i){return function(a,c,u){return ii(c,o.config)&&o.xhrMap.set(this,{url:c,method:a,async:u}),i.apply(this,arguments)}}},r.config=ft(ft({},ei),t),r.xhrMap=new Map,r}return e.prototype.onload=function(){this.enable()},Object.defineProperty(e.prototype,"patches",{get:function(){return[{nodule:XMLHttpRequest.prototype,name:"send",wrapper:this.sendWrapper},{nodule:XMLHttpRequest.prototype,name:"open",wrapper:this.openWrapper}]},enumerable:!1,configurable:!0}),e.prototype.handleXhrDetailsOnError=function(t,r){if(t){var o=Q();t.trace.end_time=o,t.trace.subsegments[0].end_time=o,t.trace.subsegments[0].error=!0,t.trace.subsegments[0].cause={exceptions:[{type:r}]},this.recordTraceEvent(t.trace),this.recordHttpEventWithError(t,r)}},e.prototype.statusOk=function(t){return t>=200&&t<300},e.prototype.recordHttpEventWithResponse=function(t,r){(this.config.recordAllRequests||!this.statusOk(r.status))&&this.context.record(tt,{version:"1.0.0",request:{method:t.method,url:t.url},response:{status:r.status,statusText:r.statusText}})},e.prototype.recordHttpEventWithError=function(t,r){var o={version:"1.0.0",request:{method:t.method,url:t.url}};o.error=an({type:"error",error:r},this.config.stackTraceLength),this.context.record(tt,o)},e.prototype.recordTraceEvent=function(t){this.isTracingEnabled()&&this.isSessionRecorded()&&this.context.record(Tr,t)},e}(ht),ac=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lt=globalThis&&globalThis.__assign||function(){return lt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},lt.apply(this,arguments)},sc="fetch",cc=function(n){ac(e,n);function e(t){var r=n.call(this,sc)||this;return r.isTracingEnabled=function(){return r.context.config.enableXRay},r.isSessionRecorded=function(){var o;return((o=r.context.getSession())===null||o===void 0?void 0:o.record)||!1},r.beginTrace=function(o,i,a){var c=Q(),u=Ks(o,i,!0),s=oi(r.config.logicalServiceName,c),f=ai(si(o),c,u);return s.subsegments.push(f),r.config.addXRayTraceIdHeader&&r.addXRayTraceIdHeader(o,i,a,s),s},r.addXRayTraceIdHeader=function(o,i,a,c){if(o.headers)return Js(o.headers,c.trace_id,c.subsegments[0].id);i||(i={},[].push.call(a,i)),Ys(i,c.trace_id,c.subsegments[0].id)},r.endTrace=function(o,i,a){if(o){var c=Q();if(o.subsegments[0].end_time=c,o.end_time=c,i){o.subsegments[0].http.response={status:i.status},ri(i.status)?(o.subsegments[0].throttle=!0,o.throttle=!0):ti(i.status)?(o.subsegments[0].error=!0,o.error=!0):ni(i.status)&&(o.subsegments[0].fault=!0,o.fault=!0);var u=i.headers.get("Content-Length"),s=u?parseInt(u,10):NaN;isNaN(s)||(o.subsegments[0].http.response.content_length=s)}a&&(o.fault=!0,o.subsegments[0].fault=!0,a instanceof Object?r.appendErrorCauseFromObject(o.subsegments[0],a):Cr(a)&&r.appendErrorCauseFromPrimitive(o.subsegments[0],a.toString())),r.context.record(Tr,o)}},r.createHttpEvent=function(o,i){var a=o;return{version:"1.0.0",request:{url:tn(o),method:i!=null&&i.method?i.method:a.method?a.method:"GET"}}},r.recordHttpEventWithResponse=function(o,i){(r.config.recordAllRequests||!i.ok)&&(o.response={status:i.status,statusText:i.statusText},r.context.record(tt,o))},r.recordHttpEventWithError=function(o,i){o.error=an({type:"error",error:i},r.config.stackTraceLength),r.context.record(tt,o)},r.fetch=function(o,i,a,c,u){var s=r.createHttpEvent(c,u),f;return ii(tn(c),r.config)?(r.isTracingEnabled()&&r.isSessionRecorded()&&(f=r.beginTrace(c,u,a)),o.apply(i,a).then(function(v){return r.endTrace(f,v,void 0),r.recordHttpEventWithResponse(s,v),v}).catch(function(v){throw r.endTrace(f,void 0,v),r.recordHttpEventWithError(s,v),v})):o.apply(i,a)},r.fetchWrapper=function(){var o=r;return function(i){return function(a,c){return o.fetch(i,this,arguments,a,c)}}},r.config=lt(lt({},ei),t),r}return Object.defineProperty(e.prototype,"patches",{get:function(){return[{nodule:window,name:"fetch",wrapper:this.fetchWrapper}]},enumerable:!1,configurable:!0}),e.prototype.onload=function(){this.enable()},e.prototype.appendErrorCauseFromPrimitive=function(t,r){t.cause={exceptions:[{type:r}]}},e.prototype.appendErrorCauseFromObject=function(t,r){t.cause={exceptions:[{type:r.name,message:r.message}]}},e}(ht),uc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fc="page-view",lc=function(n){uc(e,n);function e(){var t=n.call(this,fc)||this;return t.pushState=function(){var r=t;return function(o){return function(i,a,c){var u=o.apply(this,arguments);return r.recordPageView(),u}}},t.replaceState=function(){var r=t;return function(o){return function(i,a,c){var u=o.apply(this,arguments);return r.recordPageView(),u}}},t.popstateListener=function(r){t.recordPageView()},t.recordPageView=function(){t.context.recordPageView(t.createIdForCurrentPage())},t.enable(),t}return e.prototype.onload=function(){this.addListener(),this.recordPageView()},Object.defineProperty(e.prototype,"patches",{get:function(){return[{nodule:History.prototype,name:"pushState",wrapper:this.pushState},{nodule:History.prototype,name:"replaceState",wrapper:this.replaceState}]},enumerable:!1,configurable:!0}),e.prototype.addListener=function(){window.addEventListener("popstate",this.popstateListener)},e.prototype.createIdForCurrentPage=function(){var t=window.location.pathname,r=window.location.hash;switch(this.context.config.pageIdFormat){case ne.PathAndHash:return t&&r?t+r:t||r||"";case ne.Hash:return r||"";case ne.Path:default:return t||""}},e}(ht),ee=globalThis&&globalThis.__assign||function(){return ee=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},ee.apply(this,arguments)},dc=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t},Y=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},fi="us-west-2",nn="https://dataplane.rum.".concat(fi,".amazonaws.com"),te;(function(n){n.Errors="errors",n.Performance="performance",n.Interaction="interaction",n.Http="http"})(te||(te={}));var ne;(function(n){n.Path="PATH",n.Hash="HASH",n.PathAndHash="PATH_AND_HASH"})(ne||(ne={}));var hc=function(){return{unique:!1,domain:window.location.hostname,path:"/",sameSite:"Strict",secure:!0}},pc=function(n){return{allowCookies:!1,batchLimit:100,client:ji,cookieAttributes:n,disableAutoPageView:!1,dispatchInterval:5*1e3,enableRumClient:!0,enableXRay:!1,endpoint:nn,endpointUrl:new URL(nn),eventCacheSize:200,eventPluginsToLoad:[],pageIdFormat:ne.Path,pagesToExclude:[],pagesToInclude:[/.*/],signing:!0,recordResourceUrl:!0,retries:2,routeChangeComplete:100,routeChangeTimeout:1e4,sessionAttributes:{},sessionEventLimit:200,sessionLengthSeconds:60*30,sessionSampleRate:1,telemetries:[],useBeacon:!0,userIdRetentionDays:30}},vc=function(){function n(e,t,r,o){o===void 0&&(o={});var i=o.cookieAttributes,a=dc(o,["cookieAttributes"]);typeof r>"u"&&(r="us-west-2");var c=ee(ee({},hc()),i);this.config=ee(ee({fetchFunction:fetch},pc(c)),a),this.config.endpoint=this.getDataPlaneEndpoint(r,a),this.config.endpointUrl=new URL(this.config.endpoint),this.eventCache=this.initEventCache(e,t),this.dispatchManager=this.initDispatch(r),this.pluginManager=this.initPluginManager(e,t),this.config.enableRumClient?this.enable():this.disable()}return n.prototype.setAwsCredentials=function(e){this.dispatchManager.setAwsCredentials(e)},n.prototype.addSessionAttributes=function(e){this.eventCache.addSessionAttributes(e)},n.prototype.addPlugin=function(e){this.pluginManager.addPlugin(e)},n.prototype.dispatch=function(){this.dispatchManager.dispatchFetch()},n.prototype.dispatchBeacon=function(){this.dispatchManager.dispatchBeacon()},n.prototype.enable=function(){this.eventCache.enable(),this.pluginManager.enable(),this.dispatchManager.enable()},n.prototype.disable=function(){this.dispatchManager.disable(),this.pluginManager.disable(),this.eventCache.disable()},n.prototype.allowCookies=function(e){this.config.allowCookies=e},n.prototype.recordPageView=function(e){this.eventCache.recordPageView(e)},n.prototype.recordError=function(e){this.pluginManager.record(Ar,e)},n.prototype.registerDomEvents=function(e){this.pluginManager.updatePlugin(Sr,e)},n.prototype.recordEvent=function(e,t){this.eventCache.recordEvent(e,t)},n.prototype.initEventCache=function(e,t){return new Ao({id:e,version:t},this.config)},n.prototype.initDispatch=function(e){var t=new Ps(e,this.config.endpointUrl,this.eventCache,this.config);return this.config.identityPoolId&&this.config.guestRoleArn?t.setAwsCredentials(new Hi(this.config).ChainAnonymousCredentialsProvider):this.config.identityPoolId&&t.setAwsCredentials(new $i(this.config).ChainAnonymousCredentialsProvider),t},n.prototype.initPluginManager=function(e,t){var r=this.constructBuiltinPlugins(),o=Y(Y([],r,!0),this.config.eventPluginsToLoad,!0),i={applicationId:e,applicationVersion:t,config:this.config,record:this.eventCache.recordEvent,recordPageView:this.eventCache.recordPageView,getSession:this.eventCache.getSession},a=new Ji(i);return this.config.disableAutoPageView||a.addPlugin(new lc),o.forEach(function(c){a.addPlugin(c)}),a},n.prototype.constructBuiltinPlugins=function(){var e=[],t=this.telemetryFunctor();return this.config.telemetries.forEach(function(r){typeof r=="string"&&t[r.toLowerCase()]?e=Y(Y([],e,!0),t[r.toLowerCase()]({}),!0):Array.isArray(r)&&t[r[0].toLowerCase()]&&(e=Y(Y([],e,!0),t[r[0].toLowerCase()](r[1]),!0))}),e},n.prototype.getDataPlaneEndpoint=function(e,t){return t.endpoint?t.endpoint:nn.replace(fi,e)},n.prototype.telemetryFunctor=function(){var e;return e={},e[te.Errors]=function(t){return[new so(t)]},e[te.Performance]=function(t){return[new ks(t),new Us(t),new Xs]},e[te.Interaction]=function(t){return[new eo(t)]},e[te.Http]=function(t){return[new oc(t),new cc(t)]},e},n}();let $t=null;const gc={sessionSampleRate:1,guestRoleArn:"arn:aws:iam::262549727309:role/RUM-Monitor-us-west-2-262549727309-5361647662961-Unauth",identityPoolId:"us-west-2:7e9dedd5-9363-402b-b31c-8263d751d816",endpoint:"https://dataplane.rum.us-west-2.amazonaws.com",telemetries:["performance","errors","http"],allowCookies:!1,enableXRay:!1},mc="92200d66-1747-4528-94a9-1149fc6f26bf",yc="1.0.0",bc="us-west-2";function wc(){if($t!==null)throw new Error("AWS RUM Client is already initialized!");if(!br())try{return $t=new vc(mc,yc,bc,gc),$t}catch{}}function yr(n){return n instanceof Error?{raw:n,extracted:{name:n.name,message:n.message,stack:n.stack,stringified:n.toString()}}:n}var V;const M=class M{constructor({useAwsRum:e=!1}){In(this,"awsRumClient");e&&(this.awsRumClient=wc()),this.debug("logger initialized",{useAwsRum:e})}static instantiateSingleton(e={}){if(Ne(M,V)!==null){if(br()){console.warn("Logger already instantiated!");return}throw new Error("Logger already instantiated!")}Dn(M,V,new M(e))}static asSingleton(){if(Ne(M,V)===null)throw new Error("Logger has not been instantiated!");return Ne(M,V)}debug(...e){}info(...e){console.info(...e)}warn(...e){console.warn(...e)}error(...e){console.error(...e),this.onClientError(e)}onSuccessfulSubmission(){var e;(e=this.awsRumClient)==null||e.recordEvent("com.neuralink.patient_registry.submission_success",{})}onNextPageNavigation(e){var t;(t=this.awsRumClient)==null||t.recordEvent("com.neuralink.patient_registry.next_page_navigation",{page_id:e})}onClientValidationFailure(e){var t;(t=this.awsRumClient)==null||t.recordEvent("com.neuralink.patient_registry.client_validation_failure",{failed_keys:e})}onServerValidationFailure(e){var t;(t=this.awsRumClient)==null||t.recordEvent("com.neuralink.patient_registry.server_validation_failure",{failed_keys:e})}onServerError(e){var t;(t=this.awsRumClient)==null||t.recordEvent("com.neuralink.patient_registry.server_error",{error:yr(e)})}onClientError(e){var t;(t=this.awsRumClient)==null||t.recordEvent("com.neuralink.patient_registry.client_error",{error:yr(e)})}};V=new WeakMap,Bn(M,V,null);let dt=M;export{Ac as G,dt as L,Oc as a,Cc as g,br as i,Sc as p,Tc as w};
